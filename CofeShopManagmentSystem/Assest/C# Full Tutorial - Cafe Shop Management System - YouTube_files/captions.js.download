(function(g){var window=this;'use strict';var ICO=async function(k,U,n){k.B=g.xX(U,n)},Fn=function(k){k.isActive()||k.start()},v6=function(k,U){return U?k.captionsInitialState:"CAPTIONS_INITIAL_STATE_UNKNOWN"},qBm=function(k){return g.kD(k)||k.C("web_enable_caption_language_preference_stickiness")},JK_=function(k,U){const n=new g.GF;
n.languageCode=k.languageCode;n.languageName=k.languageName;n.name=k.name;n.displayName=k.displayName;n.kind=k.kind;n.isDefault=!1;n.S=k.S;n.isTranslateable=k.isTranslateable;n.vssId=k.vssId;n.url=k.url;n.translationLanguage=U;k.xtags&&(n.xtags=k.xtags);k.captionId&&(n.captionId=k.captionId);return n},erY=async function(k,U){k=k+"|"+U;
U=await g.uh();if(!U)throw g.oU("gct");return(await g.Zy(U)).get("captions",k)},Btx=function(k,U,n){erY(k,U).then(Z=>{Z&&n(Z.trackData,new g.GF(Z.metadata))})},O3=function(k){if(!P_m.test(k))throw Error("'"+k+"' is not a valid hex color");
k.length==4&&(k=k.replace(s1b,"#$1$1$2$2$3$3"));k=k.toLowerCase();k=parseInt(k.slice(1),16);return[k>>16,k>>8&255,k&255]},YBx=function(){var k={};
let U="suggest_correction"in g.$d?g.$d.suggest_correction:"Edit caption";U=U||"";for(let n in k){const Z=()=>String(k[n]);
U=U.replace(new RegExp("\\$\\{"+n+"\\}","gi"),Z);U=U.replace(new RegExp("\\$"+n,"gi"),Z)}return U},wO=function(){return g.F6("yt-player-caption-display-settings")},DPY=function(k,U){let n=g.hm(k.segments,U);
n>=0||n<0&&(-n-1)%2===1||(n=-n-1,n>0&&U-k.segments[n-1]===1&&n<k.segments.length&&k.segments[n]-U===1?(g.L8(k.segments,n),g.L8(k.segments,n-1)):n>0&&U-k.segments[n-1]===1?k.segments[n-1]=U:n<k.segments.length&&k.segments[n]-U===1?k.segments[n]=U:(g.db(k.segments,n,0,U),g.db(k.segments,n+1,0,U)))},oLV=function(k){return k.S&&k.S.W?k.S.W+k.player.uZ()<k.player.getCurrentTime():!1},Wdm=function(k,U){if(k.policy.zX&&k.player.De()){var n=g.YD(U,k.policy,{});
n.set("pot",k.player.De());n=n.Hn()}else n=g.YD(U,k.policy,{}).Hn();const Z={format:"RAW",withCredentials:!0};if(k.policy.eE){Z.method="POST";const L=U.J;L&&Object.keys(L).length>0?Z.postBody=g.cc(L,g.Tu):Z.postBody=(0,g.w7)([120,0])}k.W&&(Z.responseType="arraybuffer");let C=++k.SE;const r=(0,g.D)();k.B=g.r0(n,Z,3,100,-1,L=>{L.errorCode==="net.timeout"&&k.player.rM("capnt",{rn:C++})}).then(L=>{if(k.policy.NH&&C%100===1){var F=(0,g.D)();
k.player.rM("caprsp",{rn:C,ms:F-r,kb:(L.xhr.responseText.length/1024).toFixed()})}a:{L=L.xhr;k.LN();if(k.j){var v=!(k.W?L.response:L.responseText)||L.status>=400;if(F=g.lNn(L)){L=g.YD(k.j,k.policy,{});k.j.wk(L,F);Wdm(k,k.j);break a}v?k.player.rM("capfail",{status:L.status}):(g.QO("fcb_r",(0,g.D)(),k.player.getVideoData()?.dM||""),F=k.j.M0[0],v=F.t8,k.X!=null&&k.V!==v&&(k.W?k.X(L.response,(F.startTime+k.player.uZ())*1E3):k.X(L.responseText,(F.startTime+k.player.uZ())*1E3),k.V=v))}k.j=null;k.B=null}}).U0(L=>
{k.j=null;
k.B=null;k.player.rM("capfail",{rn:C,status:L.xhr?.status})});
k.j=U;DPY(k.J,k.j.M0[0].t8)},j1m=function(k,U){return U!=null&&U in k.B.S?k.B.S[U]:null},SBB=function(k,U,n){const Z=[];
for(const C in k.B.S){if(!k.B.S.hasOwnProperty(C))continue;const r=k.B.S[C];if(g.P3(r,n||null)){const L=r.info.captionTrack;L&&L.languageCode===U&&Z.push(r)}}return Z.length?Z[0]:null},fCE=function(k,U){const n=[];
for(const C in k.B.S){if(!k.B.S.hasOwnProperty(C))continue;var Z=k.B.S[C];if(g.P3(Z,U||null)){let r=Z.info.id,L=r,F=`.${r}`,v="",O="";if(Z=Z.info.captionTrack)r=Z.languageCode,L=Z.displayName,F=Z.vssId,v=Z.kind,O=Z.id;else{{Z=r;let w=g.aY2.get(Z);w==null&&(w=GVx[Z]||GVx[Z.replace(/-/g,"_")],g.aY2.set(Z,w));Z=w}L=Z||L}n.push(new g.GF({id:C,languageCode:r,languageName:L,is_servable:!0,is_default:!0,is_translateable:!1,vss_id:F,kind:v,captionId:O}))}}return n},M_E=function(k,U,n,Z){let C=U/360*16;
U>=k&&(k=640,Z>n*1.3&&(k=480),C=n/k*16);return C},yKV=function(k){let U=1+.25*(k.fontSizeIncrement||0);
if(k.offset===0||k.offset===2)U*=.8;return U},cKs=function(k,U){let n="vertical-rl";
k.S.Wz===1&&(n="vertical-lr");g.VK&&(n=n==="vertical-lr"?"tb-lr":"tb-rl");g.Pl(U,"-o-writing-mode",n);g.Pl(U,"-webkit-writing-mode",n);g.Pl(U,"writing-mode",n);g.Pl(U,"text-orientation","upright");g.F_(U,"ytp-vertical-caption");k.B.params.CZ===3&&(g.Pl(U,"text-orientation",""),g.Pl(U,"transform","rotate(180deg)"))},lCV=function(k,U){const n={};
var Z=U.background?U.background:k.S.MQ.background;if(U.backgroundOpacity!=null||U.background){var C=U.backgroundOpacity!=null?U.backgroundOpacity:k.S.MQ.backgroundOpacity;Z=O3(Z);n.background="rgba("+Z[0]+","+Z[1]+","+Z[2]+","+C+")";k.Nf&&(n["box-decoration-break"]="clone",n["border-radius"]=`${k.aQ/8}px`)}if(U.fontSizeIncrement!=null||U.offset!=null)n["font-size"]=`${k.Xo*yKV(U)}px`;Z=1;C=U.color||k.S.MQ.color;if(U.color||U.textOpacity!=null)C=O3(C),Z=U.textOpacity==null?k.S.MQ.textOpacity:U.textOpacity,
C="rgba("+C[0]+","+C[1]+","+C[2]+","+Z+")",n.color=C,n.fill=C;var r=U.charEdgeStyle;r===0&&(r=void 0);if(r){C=`rgba(34, 34, 34, ${Z})`;let v=`rgba(204, 204, 204, ${Z})`;U.z3&&(v=C=U.z3);const O=k.Xo/16/2,w=Math.max(O,1);var L=Math.max(2*O,1),F=Math.max(3*O,1);const u=Math.max(5*O,1);Z=[];switch(r){case 4:for(;F<=u;F+=O)Z.push(`${L}px ${L}px ${F}px ${C}`);break;case 1:L=window.devicePixelRatio>=2?.5:1;for(r=w;r<=F;r+=L)Z.push(`${r}px ${r}px ${C}`);break;case 2:Z.push(`${w}px ${w}px ${v}`);Z.push(`-${w}px -${w}px ${C}`);
break;case 3:for(F=0;F<5;F++)Z.push(`0 0 ${L}px ${C}`)}n["text-shadow"]=Z.join(", ")}C="";switch(U.fontFamily){case 1:C='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace';break;case 2:C='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif';break;case 3:C='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace';break;case 5:C='"Comic Sans MS", Impact, Handlee, fantasy';break;case 6:C='"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive';
break;case 7:C=g.bB()?'"Carrois Gothic SC", sans-serif-smallcaps':'Arial, Helvetica, Verdana, "Marcellus SC", sans-serif';break;case 0:case 4:C='"YouTube Noto", Roboto, Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}C&&(n["font-family"]=C);C=U.offset;C==null&&(C=k.S.MQ.offset);switch(C){case 0:n["vertical-align"]="sub";break;case 2:n["vertical-align"]="super"}U.fontFamily===7&&(n["font-variant"]="small-caps");U.bold&&(n["font-weight"]="bold");U.italic&&(n["font-style"]="italic");U.underline&&
(n["text-decoration"]="underline");U.sy&&(n.visibility="hidden");U.sH===1&&k.J&&(n["text-combine-upright"]="all",n["text-orientation"]="mixed",C=g.aa||g.s9,k.B.params.CZ===3?n.transform=C?"rotate(90deg)":"rotate(180deg)":C&&(n.transform="rotate(-90deg)"));if(U.textEmphasis===1||U.textEmphasis===2||U.textEmphasis===3||U.textEmphasis===4||U.textEmphasis===5)if(g.aa)n["font-weight"]="bold";else switch(n["text-emphasis-style"]="filled circle",n["text-emphasis-color"]="currentcolor",n["webkit-text-emphasis"]=
"filled circle",U.textEmphasis){case 4:case 3:n["text-emphasis-position"]="under left";n["webkit-text-emphasis-position"]="under left";break;case 5:case 2:n["text-emphasis-position"]="over right",n["webkit-text-emphasis-position"]="over right"}return n},u8=function(k){k=k.split("px");
return k.length>0?(k=Number(k[0]))?k:0:0},kfE=function(k,U,n){k.eE=k.eE||!!n;
const Z={};Object.assign(Z,k.S.MQ);Object.assign(Z,n||U.S);Object.assign(Z,k.EU.MQ);(n=!k.L)&&mPB(k);let C=k.IQ&&k.V$&&g.y_(Z,k.V$)?k.IQ:xPB(k,Z);const r=typeof U.text==="string",L=r?U.text.split("\n"):[U.text];for(let v=0;v<L.length;v++){var F=v>0||!U.append;const O=L[v];F&&!n?(mPB(k),C=xPB(k,Z)):F&&n&&(n=!1);O&&(C.appendChild(r?g.w8(O):O),r||O.tagName!=="RUBY"||O.childElementCount!==4||g.aa||!g.DQ(O.children[2],"text-emphasis")||(F=k.J?"padding-right":"padding-top",g.DQ(O.children[2],"text-emphasis-position")&&
(F=k.J?"padding-left":"padding-bottom"),g.CK?g.Pl(C,F,"1em"):g.Pl(C,F,"0.5em")))}k.V$=Z;k.IQ=C;k.V.push(U)},mPB=function(k){k.L=g.Ox("SPAN");
g.Pl(k.L,{display:"block"});g.F_(k.L,"caption-visual-line");k.j.appendChild(k.L)},xPB=function(k,U){const n=g.Ox("SPAN");
g.Pl(n,{display:"inline-block","white-space":"pre-wrap"});g.Pl(n,lCV(k,U));n.classList.add("ytp-caption-segment");k.L.appendChild(n);n.previousElementSibling&&(g.Pl(n.previousElementSibling,{"border-top-right-radius":"0","border-bottom-right-radius":"0"}),g.Pl(n,{"border-top-left-radius":"0","border-bottom-left-radius":"0"}));return n},Uts=function(k,U,n){if(k===255&&U===255||!k&&!U)return{fg:k,
dF:U,result:0};k=iR7[k];U=iR7[U];if(k&128){var Z;if(Z=!(U&128))Z=U,Z=n.Vd()&&n.dF===Z;if(Z)return{fg:k,dF:U,result:1}}else if(U&128&&1<=k&&k<=31)return{fg:k,dF:U,result:2};return{fg:k,dF:U,result:3}},ZR2=function(k,U,n,Z){U===255&&n===255||!U&&!n?(++k.j===45&&k.reset(),k.J.B.clear(),k.W.B.clear()):(k.j=0,nME(k.J,U,n,Z))},CV7=function(k,U){k.S.sort((n,Z)=>{const C=n.time-Z.time;
return C===0?n.order-Z.order:C});
for(const n of k.S)k.time=n.time,n.type===0?ZR2(k,n.Yx,n.PP,U):n.type===1&&k.B&496&&nME(k.W,n.Yx,n.PP,U);k.S.length=0},ORV=function(k,U){switch(k){case 0:return rr7[(U&127)-32];
case 1:return Lym[U&15];case 2:return FyO[U&31];case 3:return vMi[U&31]}return 0},gO=function(k,U){if(k.style.type===3){var n=0,Z=0,C=k.W.time+0,r="",L="",F=C;
for(var v=1;v<=15;++v){var O=!1;for(var w=Z?Z:1;w<=32;++w){var u=k.j[v][w];if(u.S!==0){n===0&&(n=v,Z=w);O=String.fromCharCode(u.S);var X=u.timestamp;X<C&&(C=X);u.timestamp=F;L&&(r+=L,L="");r+=O;O=!0}if((u.S===0||w===32)&&O){L="\n";break}else if(Z&&!O)break}if(n&&!O)break}r&&U.J(n,Z,C,F,r)}else for(Z=n=0,r=C=k.W.time+0,L=1;L<=15;++L)for(F="",v=1;v<=32;++v)if(w=k.j[L][v],u=w.S,u!==0&&(n===0&&(n=L,Z=v),O=String.fromCharCode(u),X=w.timestamp,X<=C&&(C=X),F+=O,w.reset()),v===32||u===0)F&&U.J(n,Z,C,r,F),
C=r,F="",Z=n=0},Xn=function(k){return k.j[k.row][k.B]},E3=function(k,U,n){U>=2&&k.B>1&&(--k.B,Xn(k).S=0);
const Z=Xn(k);Z.timestamp=k.W.time+0;Z.S=ORV(U,n);k.B<32&&k.B++},w1i=function(k,U,n,Z){for(let L=0;L<Z;L++)for(let F=0;F<=32;F++){var C=k.j[U+L][F],r=k.j[n+L][F];
C.S=r.S;C.timestamp=r.timestamp}},Al=function(k,U,n){for(let Z=0;Z<n;Z++)for(let C=0;C<=32;C++)k.j[U+Z][C].reset()},dO=function(k){k.row=k.S>0?k.S:1;
k.B=1;Al(k,0,15)},uz2=function(k){k.style.set(1);
k.S=k.J;k.S.S=0;k.S.style=k.style;k.j.mode=1<<k.S.J},Vc=function(k,U,n){const Z=k.B;
let C=!1;switch(k.style.get()){case 4:case 1:case 2:k.style.get()===4&&Z.S>0||(gO(Z,n),dO(k.B),dO(k.J),Z.row=15,Z.S=U,C=!0)}k.style.set(3);k.S=Z;k.S.style=k.style;k.j.mode=1<<Z.J;C?Z.B=1:Z.S!==U&&(Z.S>U?(gO(Z,n),Al(Z,Z.row-Z.S,U)):Z.row<U&&(U=Z.S),Z.S=U)},gM2=function(k){k.style.set(4);
k.S=k.text;k.S.style=k.style;k.j.mode=1<<k.S.J},nME=function(k,U,n,Z){k.B.update();
U=Uts(U,n,k.B);switch(U.result){case 0:return;case 1:case 2:return}var C=U.fg;U=U.dF;if(32<=C||!C)k.S.mode&k.S.B&&(n=C,n&128&&(n=127),U&128&&(U=127),k=k.J.S,n&96&&E3(k,0,n),U&96&&E3(k,0,U),n!==0&&U!==0&&k.style.type===3&&gO(k,Z));else if(C&16)a:if(!k.B.matches(C,U)&&(n=k.B,n.fg=C,n.dF=U,n.state=2,n=C&8?k.V:k.j,k.J=n,k.S.mode=1<<(k.W<<2)+(n.W<<1)+(n.style.type===4?1:0),(k.S.mode|1<<(k.W<<2)+(n.W<<1)+(n.style.type!==4?1:0))&k.S.B))if(U&64){Z=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(C&7)<<1|U>>5&1];
k=U&16?((U&14)>>1)*4:0;U=n.S;switch(n.style.get()){case 4:Z=U.row;break;case 3:if(Z!==U.row){if(Z<U.S&&(Z=U.S,Z===U.row))break;var r=1+U.row-U.S;const L=1+Z-U.S;w1i(U,L,r,U.S);n=r;C=U.S;L<r?(r=L+C-r,r>0&&(n+=r,C-=r)):(r=r+C-L,r>0&&(C-=r));Al(U,n,C)}}U.row=Z;U.B=k+1}else switch(C&7){case 1:switch(U&112){case 32:E3(n.S,0,32);break a;case 48:U===57?(Z=n.S,Xn(Z).S=0,Z.B<32&&Z.B++):E3(n.S,1,U&15)}break;case 2:U&32&&E3(n.S,2,U&31);break;case 3:U&32&&E3(n.S,3,U&31);break;case 4:case 5:if(32<=U&&U<=47)switch(U){case 32:uz2(n);
break;case 33:Z=n.S;Z.B>1&&(--Z.B,Xn(Z).S=0);break;case 36:Z=n.S;k=Xn(Z);for(U=0;U<=15;U++)for(n=0;n<=32;n++)if(Z.j[U][n]===k){for(;n<=32;n++)Z.j[U][n].reset();break}break;case 37:Vc(n,2,Z);break;case 38:Vc(n,3,Z);break;case 39:Vc(n,4,Z);break;case 40:E3(n.S,0,32);break;case 41:Z=n;Z.style.set(2);Z.S=Z.B;Z.S.S=0;Z.S.style=Z.style;Z.j.mode=1<<Z.S.J;break;case 42:Z=n;k=Z.text;k.S=15;k.style.set(4);dO(k);gM2(Z);break;case 43:gM2(n);break;case 44:k=n;U=k.B;switch(k.style.get()){case 1:case 2:case 3:gO(U,
Z)}Al(U,0,15);break;case 45:b:{U=n;k=U.S;switch(U.style.get()){default:case 2:case 1:break b;case 4:if(k.row<15){++k.row;k.B=1;break b}break;case 3:}k.S<2&&(k.S=2,k.row<k.S&&(k.row=k.S));U=k.row-k.S+1;gO(k,Z);w1i(k,U,U+1,k.S-1);Al(k,k.row,1)}break;case 46:Al(n.J,0,15);break;case 47:k=n,gO(k.B,Z),k.J.updateTime(k.j.time+0),Z=k.J,k.J=k.B,k.B=Z,uz2(k)}break;case 7:switch(U){case 33:case 34:case 35:Z=n.S,(Z.B+=U&3)>32&&(Z.B=32)}}},EMs=function(k,U,n,Z,C,r,L){var F=r[0];
let v=L[F.getAttribute("p")];if(v.Ym===1){var O=r[1],w=r[2];r=r[3];F.getAttribute("t");O.getAttribute("t");w.getAttribute("t");r.getAttribute("t");F.getAttribute("p");O.getAttribute("p");r.getAttribute("p");L=L[w.getAttribute("p")];F=X1x(F.textContent,O.textContent,w.textContent,r.textContent,L);return new H6(k,U,C,n,F,Z,v)}switch(v.Ym){case 9:case 10:v.textEmphasis=1;break;case 11:v.textEmphasis=2;break;case 12:v.textEmphasis=3;break;case 13:v.textEmphasis=4;break;case 14:v.textEmphasis=5}return new H6(k,
U,C,n,F.textContent||"",Z,v)},X1x=function(k,U,n,Z,C){var r=g.bB();
const L=r?g.Ox("DIV"):g.Ox("RUBY"),F=g.Ox("SPAN");F.textContent=k;L.appendChild(F);k=r?g.Ox("DIV"):g.Ox("RP");k.textContent=U;L.appendChild(k);U=r?g.Ox("DIV"):g.Ox("RT");U.textContent=n;L.appendChild(U);n=C.Ym;if(n===10||n===11||n===12||n===13||n===14)if(g.Pl(U,"text-emphasis-style","filled circle"),g.Pl(U,"text-emphasis-color","currentcolor"),g.Pl(U,"webkit-text-emphasis","filled circle"),C.Ym===11||C.Ym===13)g.Pl(U,"webkit-text-emphasis-position","under left"),g.Pl(U,"text-emphasis-position","under left");
n=!0;if(C.Ym===4||C.Ym===7||C.Ym===12||C.Ym===14)g.Pl(L,"ruby-position","over"),g.Pl(L,"-webkit-ruby-position","before");else if(C.Ym===5||C.Ym===6||C.Ym===11||C.Ym===13)g.Pl(L,"ruby-position","under"),g.Pl(L,"-webkit-ruby-position","after"),n=!1;C=r?g.Ox("DIV"):g.Ox("RP");C.textContent=Z;L.appendChild(C);r&&(Z=n,g.Pl(L,{display:"inline-block",position:"relative"}),r=L.firstElementChild.nextElementSibling,g.Pl(r,"display","none"),r=r.nextElementSibling,g.Pl(r,{"font-size":"0.5em","line-height":"1.2em",
"text-align":"center",position:"absolute",left:"50%",transform:"translateX(-50%)",width:"400%"}),g.Pl(L.lastElementChild,"display","none"),Z?(g.Pl(L,"padding-top","0.6em"),g.Pl(r,"top","0")):(g.Pl(L,"padding-bottom","0.6em"),g.Pl(r,"bottom","0")));return L},Arp=function(k){const U="_"+RA++;
return new hl(0,0x8000000000000,0,U,k)},b8=function(k,U){k=k.getAttribute(U);
if(k!=null)return Number(k)},zc=function(k,U){k=k.getAttribute(U);
if(k!=null)return k==="1"},Qc=function(k,U){k=b8(k,U);
return k!==void 0?k:null},Tc=function(k,U){k=k.getAttribute(U);
if(k!=null)return Kc.test(k),k},dtY=function(k,U){const n={},Z=U.getAttribute("ws");
Object.assign(n,Z?k.D[Z]:k.J);k=Qc(U,"mh");k!=null&&(n.Rv=k);k=Qc(U,"ju");k!=null&&(n.textAlign=k);k=Qc(U,"pd");k!=null&&(n.CZ=k);k=Qc(U,"sd");k!=null&&(n.Wz=k);k=Tc(U,"wfc");k!=null&&(n.windowColor=k);U=b8(U,"wfo");U!==void 0&&(n.windowOpacity=U/255);return n},Vfm=function(k,U){const n={},Z=U.getAttribute("wp");
Z&&Object.assign(n,k.X[Z]);k=Qc(U,"ap");k!=null&&(n.n4=k);k=b8(U,"cc");k!=null&&(n.rF=k);k=b8(U,"ah");k!=null&&(n.mB=k);k=b8(U,"rc");k!=null&&(n.Wt=k);U=b8(U,"av");U!=null&&(n.AM=U);return n},HRb=function(k,U,n,Z){let C={};
Object.assign(C,Vfm(k,U));Object.assign(C,dtY(k,U));Z?g.y_(C,k.J)?(Z=k.W,C=k.J):Z="_"+RA++:Z=U.getAttribute("id")||"_"+RA++;k=b8(U,"t")+n;U=b8(U,"d")||0x8000000000000;if(C.CZ===2||C.CZ===3)n=C.Wt,C.Wt=C.rF,C.rF=n;return new hl(k,U,0,Z,C)},aA=function(k){k=g.I0(Math.round(k),0,16777215).toString(16).toUpperCase();
return"#000000".substring(0,7-k.length)+k},RHm=function(k,U,n,Z,C){Z===0&&(Z=0x8000000000000);
const r={};U.wpWinPosId&&Object.assign(r,k.J.get(U.wpWinPosId));U.wsWinStyleId&&Object.assign(r,k.W.get(U.wsWinStyleId));k=U.rcRowCount;k!==void 0&&(r.Wt=k);U=U.ccColCount;U!==void 0&&(r.rF=U);if(r.CZ===2||r.CZ===3)U=r.Wt,r.Wt=r.rF,r.rF=U;return new hl(n,Z,0,C,r)},$$=function(k){const U=k.byteOffset;
k.byteOffset+=1;return k.S.getUint8(U)},pc=function(k){const U=k.byteOffset;
k.byteOffset+=4;return k.S.getUint32(U)},zHm=function(k){if(typeof k==="string")return!1;
k=new hHi(k,0);return bRE(k)},bRE=function(k){if(!(k.byteOffset<k.S.byteLength)||pc(k)!==1380139777)return!1;
k.version=$$(k);if(k.version>1)return!1;$$(k);$$(k);$$(k);return!0},Qvm=function(k,U){if(!U)return"";
k.J&&k.B.params.Wz!==1&&(U*=-1);return`translate${k.J?"X":"Y"}(${U}px)`},Kyb=function(k){k.By=Array.from(k.element.getElementsByClassName("caption-visual-line"));
for(var U=k.B.params.Wt,n=0,Z=0,C=k.By.length-1;n<U&&C>-1;){var r=k.By[C];Z+=k.J?r.offsetWidth:r.offsetHeight;n++;C--}k.Y=Z;U=Math;n=U.max;isNaN(k.Wy)&&((Z=k.S.rF)?(C=g.Ox("SPAN"),g.d8(C,"\u2013".repeat(Z)),g.Pl(C,lCV(k,k.S.MQ)),k.j.appendChild(C),k.Wy=C.offsetWidth,k.j.removeChild(C)):k.Wy=0);Z=k.j;k.SE=n.call(U,k.Wy,k.gt,(k.J?Z.offsetHeight:Z.offsetWidth)+1)},TiB=function(k,U){Kyb(k);
var n=k.By.reduce((Z,C)=>(k.J?C.offsetWidth:C.offsetHeight)+Z,0);
n=k.Y-n;if(n!==k.pN){const Z=n>0&&k.pN===0,C=n<k.pN;U||isNaN(n)||Z||!C||(g.F_(k.element,"ytp-rollup-mode"),k.K(k.element,"transitionend",k.bL));g.Pl(k.j,"transform",Qvm(k,n));k.pN=n}Kyb(k)},$ts=function(k,U){k.S=(n,Z)=>{if(n.info.j){var C=n;
if(k.Qp.length>0){for(C=k.Qp.shift();k.Qp.length>0;)C=C.V(k.Qp.shift());C=C.V(n)}if(C){n=C;try{var r=g.mm(n)*1E3}catch(E){r=n.info.startTime*1E3}try{var L=g.WNU(n)*1E3}catch(E){L=n.info.duration*1E3}if(r<0||L<0)r<0&&(r=n.info.startTime*1E3),L<0&&(L=n.info.duration*1E3);n.info.startTime=r/1E3;n.info.J=r/1E3;n.info.duration=L/1E3;n.info.X=L/1E3;const {formatId:F,t8:v,startTimeMs:O,durationMs:w}=k.Xr(C);r={formatId:F,startTimeMs:O,durationMs:w,wf:v,Nm:v};L=as7(k.BV,r.startTimeMs);const u=(n=L>=0?k.BV[L]:
null)?n.startTimeMs+n.durationMs:0,X=r.startTimeMs+r.durationMs;!n||r.startTimeMs-u>k.B?k.BV.splice(L+1,0,r):(n.durationMs=Math.max(u,X)-n.startTimeMs,n.Nm=Math.max(n.Nm,r.Nm));Z(k.BV);r=g.yM(C);Z=k.j;r=r.buffer.slice(r.byteOffset,r.byteLength+r.byteOffset);C=C.info.J;Z.dM?Z.X==null?g.M3(Z.logger,350058965,"Null loaded track meta data at captions data received"):U.fE(r,Z.X,C*1E3):g.M3(Z.logger,350058965,"Null Representation at captions data received")}else g.M3(k.logger,350058965,"Empty slice")}else k.Qp.push(n)};
k.O.addEventListener("sabrCaptionsDataLoaded",k.S)},as7=function(k,U){k=g.hm(k,{startTimeMs:U},(n,Z)=>n.startTimeMs-Z.startTimeMs);
return k>=0?k:-k-2},p1x=function(k,U){if(!g.ADP(k)||k.S!=null&&g.B3(U,k.S)&&k.S.S.rawcc!=null)return!1;
U=!!k.S&&k.S.isManifestless&&Object.values(k.S.S).some(n=>g.P3(n,"386"));
k=!!k.S&&!k.S.isManifestless&&g.VYn(k.S);return U||k},Nii=function(k,U,n){const Z=[];
for(const C in k.B.S){if(!k.B.S.hasOwnProperty(C))continue;const r=k.B.S[C];if(g.P3(r,n||null)){const L=r.info.captionTrack;L&&L.languageCode===U&&Z.push(r)}}return Z.length?Z[0]:null},tfx=function(k,U){const n=[];
for(const C in k.B.S){if(!k.B.S.hasOwnProperty(C))continue;var Z=k.B.S[C];if(g.P3(Z,U||null)){let r=Z.info.id,L=r,F=`.${r}`,v="",O="";if(Z=Z.info.captionTrack)r=Z.languageCode,L=Z.displayName,F=Z.vssId,v=Z.kind,O=Z.id;n.push(new g.GF({id:C,languageCode:r,languageName:L,is_servable:!0,is_default:!0,is_translateable:!1,vss_id:F,kind:v,captionId:O}))}}return n},qV7=function(k){const U=Isb.length;
if(k.byteLength<U)return!1;k=new Uint8Array(k,0,U);for(let n=0;n<U;n++)if(Isb[n]!==k[n])return!1;return!0},NW=function(k){k=k.split(":");
let U=0;for(const n of k)U=U*60+Number(n);return U*1E3},JrE=function(k,U,n,Z){Z=Object.assign({Rv:0},Z);
return new hl(k,U,n,"_"+RA++,Z)},eHO=function(k,U,n,Z,C,r,L,F,v){switch(L.tagName){case "b":F.bold=!0;
break;case "i":F.italic=!0;break;case "u":F.underline=!0}for(let w=0;w<L.childNodes.length;w++){var O=L.childNodes[w];if(O.nodeType===3)O=new H6(U,n,Z,C.id,O.nodeValue,r||w>0,g.Gp(F)?void 0:F),v.push(O),C.S.push(O);else{const u={};Object.assign(u,F);eHO(k,U,n,Z,C,!0,O,u,v)}}},PVE=function(k,U,n){if(typeof U==="string"||zHm(U))return[{trackData:U,
qA:n}];if(typeof U==="string"&&U.substring(0,6)==="WEBVTT"||typeof U!=="string"&&qV7(U))return[{trackData:U,qA:n}];const Z=new DataView(U);if(Z.byteLength<=8||Z.getUint32(4)!==1718909296)return[];var C=g.DRJ(Z);if(k.y3&&C){var r=g.tds(C),L=g.IL6(C);C=C.qO;r&&C&&k.y3.Lp(C,r,L)}k=g.c8(Z,1835295092);if(!k||!k.length||!k[0].size)return[];r=[];for(L=0;L<k.length;L++)C=k[L],C=new Uint8Array(U,C.dataOffset,C.size-(C.dataOffset-C.offset)),C=g.IM(C),r.push({trackData:C,qA:n+L*1E3});Bib(Z,r,n);return r=r.filter(F=>
!!F.trackData)},YVi=function(k,U,n){k.S||(k.S=new svB);
k=k.S.j(U,n);Math.random()<.01&&g.ed(Error("Deprecated subtitles format in web player: WebVTT"));return k},Bib=function(k,U,n){var Z=g.GI(k,0,1836476516);
let C=9E4;Z&&(C=g.fD(Z)||9E4);Z=0;const r=g.c8(k,1836019558);for(let F=0;F<r.length;F++){var L=r[F];F<U.length&&(L=g.GI(k,L.dataOffset,1953653094))&&(L=g.GI(k,L.dataOffset,1952867444))&&(L=g.yL(L)/C*1E3,F===0&&(Z=L),U[F].qA=L-Z+n||n*F*1E3)}},DtV=function(k){const U={};
if(k=g.DT(k))U.lang=k,g.lqz.test(k)&&(U.CZ=1);return U},oMO=function(k){const U=!!k.O.gm()?.x$();
return k.j==="HLS"&&U?!0:k.TJ&&U&&k.j!=="LIVE"&&k.j!=="SABR_LIVE"},IA=function(k,U,n=!1){const Z=tl.MQ;
k.W={};Object.assign(k.W,tl);k.W.MQ={};Object.assign(k.W.MQ,Z);k.V={MQ:{}};var C=U.backgroundOverride?k.V:k.W,r=U.background||Z.background;Kc.test(r);C.MQ.background=r;C=U.colorOverride?k.V:k.W;r=U.color||Z.color;Kc.test(r);C.MQ.color=r;C=U.windowColorOverride?k.V:k.W;r=U.windowColor||tl.windowColor;Kc.test(r);C.windowColor=r;C=U.backgroundOpacityOverride?k.V:k.W;r=U.backgroundOpacity;r==null&&(r=Z.backgroundOpacity);C.MQ.backgroundOpacity=r;C=U.fontSizeIncrementOverride?k.V:k.W;r=U.fontSizeIncrement;
r==null&&(r=Z.fontSizeIncrement);C.MQ.fontSizeIncrement=r;r=U.fontStyleOverride?k.V:k.W;C=U.fontStyle;C==null&&(C=Z.bold&&Z.italic?3:Z.bold?1:Z.italic?2:0);r=r.MQ;switch(C){case 1:r.bold=!0;delete r.italic;break;case 2:delete r.bold;r.italic=!0;break;case 3:r.bold=!0;r.italic=!0;break;default:delete r.bold,delete r.italic}C=U.textOpacityOverride?k.V:k.W;r=U.textOpacity;r==null&&(r=Z.textOpacity);C.MQ.textOpacity=r;C=U.windowOpacityOverride?k.V:k.W;r=U.windowOpacity;r==null&&(r=tl.windowOpacity);C.windowOpacity=
r;C=U.charEdgeStyleOverride?k.V:k.W;r=U.charEdgeStyle;r==null&&(r=Z.charEdgeStyle);C.MQ.charEdgeStyle=r;C=U.fontFamilyOverride?k.V:k.W;r=U.fontFamily;r==null&&(r=Z.fontFamily);C.MQ.fontFamily=r;k.loaded&&k.h8();n&&g.Lr("yt-player-caption-display-settings",U,2592E3)},qW=function(k,U,n){U&&!k.dM?(U=Arp({CZ:0,
lang:"en-GB"}),k.dM=[U,new H6(U.start,U.end-U.start,0,U.id,n??"Captions look like this")],k.player.oA(k.dM)):!U&&k.dM&&(Wy_(k,k.dM),k.dM=null)},jvs=function(k){if(!k.O.isInline())return g.F6("yt-player-sticky-caption")},Jl=function(k){let U=void 0;
const n=g.X6().Db(65);if(g.kD(k.k$)&&n!=null){if(jvs(k)!=null)return!1;U=!n}return U},SVY=function(k){if(k.k$.gI===1||k.videoData.S7===1||g.SG(k.videoData,"yt:cc")==="alwayson")return!0;
let U;k.videoData.captionTracks.length&&(U=k.getAudioTrack().B);if(k.k$.gI===2){if(g.kD(k.k$))var n=jvs(k);else if(k.storage)try{n=k.storage.get("module-enabled")}catch(C){k.storage.remove("module-enabled")}else n=null;if(n!=null)return!!n}n=v6(k.player.getAudioTrack(),g.kD(k.k$));const Z=g.SG(k.videoData,"yt:cc");if(Jl(k)===void 0){if(n==="CAPTIONS_INITIAL_STATE_ON_RECOMMENDED")return Z?Z==="on":!0;if(n==="CAPTIONS_INITIAL_STATE_OFF_RECOMMENDED")return Z==="on"}else return Z==="on";return U==="ON"||
g.SG(k.videoData,"yt:cc")==="on"},eg=function(k,U=!1){if(k.S&&!U||!k.videoData.captionTracks.length)return!1;
k=k.getAudioTrack();return!!k.S||k.B==="FORCED_ON"},GfV=function(k,U){if(k.S){var n=k.O.gm().j5().textTracks,Z=null;
k.j==="HLS"?Z=k.S.getId():Z=k.S.toString();for(let r=0;r<n.length;r++){var C=n[r];C.id===Z&&(U?C.mode!=="showing"&&(C.mode="showing",C=k.S,k.BS(C,!!C,B6(k)?"g":k.L?"m":"s")):C.mode==="showing"&&(C.mode="disabled"))}}},B6=function(k){const U=P6(k);
return!!U&&k.S===U},fsE=function(k,U){if(k.j==="HLS")return!1;
g.xS(k.videoData)&&(U=!0);U||(U=k.j==="TTS"?!1:k.j==="INNERTUBE"?!1:!0);return U||k.k$.C("web_deprecate_always_includes_asr_setting")&&g.kD(k.k$)?!0:!!g.X6().Db(66)},P6=function(k){return k.D&&k.D.S},s3=function(k,U){if(!k.B)return null;
if(k.D&&k.D.J)return k.D.J;U=fsE(k,U);U=g.X1(k.B.S,U);let n=null;if(qBm(k.k$)){var Z=k.O.isInline()?void 0:g.F6("yt-player-caption-sticky-language");var C=[Z,k.videoData.captionsLanguagePreference,k.k$.captionsLanguagePreference,g.SG(k.videoData,"yt:cc_default_lang")];let F=!1;for(let v=0;v<C.length;v++){const O=C[v];if(O){F=!0;for(var r=0;r<U.length;r++)if(g.DT(U[r])===O)return U[r];for(r=0;r<U.length;r++)if(g.DT(U[r]).split("-")[0]===O.split("-")[0])return U[r]}}if(F&&k.B&&(C=k.B.D,C.length))for(var L of C)if(L.languageCode===
Z){n=L;break}}else for(L=[k.videoData.captionsLanguagePreference,k.k$.captionsLanguagePreference,g.SG(k.videoData,"yt:cc_default_lang")],Z=0;Z<L.length;Z++)for(C=0;C<U.length;C++)if(g.DT(U[C])===L[Z])return U[C];L=null;k.D&&k.D.j&&(L=k.D.j);L||(L=U.find(F=>F.isDefault)||null);
L||(L=U[0]||P6(k));L&&n&&g.DT(L).split("-")[0]!==n.languageCode.split("-")[0]&&(L=JK_(L,n));return L},W6=function(k,U,n){k.loaded&&k.unload();
n!=null&&(k.L=n,k.L&&(g.kD(k.k$)?Y$(k,!!U):Dz(k,!!U)));U!==null||eg(k,!0)||k.BS(U,!!U,k.L?"m":"s");k.S=U;eg(k)&&(k.S=P6(k));oA(k,k.S??void 0);k.load()},Y$=function(k,U){k.O.isInline()||g.Lr("yt-player-sticky-caption",U,2592E3)},Dz=function(k,U){if(k.storage)try{k.storage.set("module-enabled",U)}catch(n){}},oA=function(k,U){k.k$.C("html5_modify_caption_vss_logging")&&(k.videoData.Bw=U)},yrO=function(k,U){var n=k.SE[U.id];
n&&n.B!==U&&(n.dispose(),delete k.SE[U.id],n=null);n||(n=Mfx(k,U))&&(k.SE[U.id]=n)},crO=function(k,U){const n=U.windowId;
k.pN[n]||(k.pN[n]=[]);k.pN[n].push(U)},Mfx=function(k,U){const n=ls8(k);
if(!n)return null;var Z=k.S?g.DT(k.S):null;Z&&g.lqz.test(Z)&&(U.params.CZ=1);var C=k.GJ.getPlayerSize();Z=C.height*k.Y.height;C=C.width*k.Y.width;k.k$.playerStyle!=="google-live"||k.W.isDefault||Object.assign(U.params,k.W);switch(U.params.Rv!=null?U.params.Rv:U.S.length>1?1:0){case 1:return new mt2(U,k.W,k.V,n.width,n.height,C,Z,k.k$.experiments,k.Xo.bind(k),k.O);case 2:return new xts(U,k.W,k.V,n.width,n.height,C,Z,k.k$.experiments,k.Xo.bind(k),k.O);default:return new jg(U,k.W,k.V,n.width,n.height,
C,Z,k.k$.experiments,k.Xo.bind(k),k.O)}},ls8=function(k){let U=k.GJ.getVideoContentRect(!0).height,n=k.GJ.getVideoContentRect(!0).width;
if(!U||!n)return null;U*=k.Y.height;n*=k.Y.width;return{width:n,height:U}},Wy_=function(k,U){k.player.XB(U);
for(const n of U)g.FO(k.Wy,n);Fn(k.eE)},k0_=function(k,U){if(!k.B)return{};
if(U){g.Gp(U)||k.HS(U.vss_id,"m");if(k.J&&k.j!=="HLS"||!g.TN(U))return;if(g.Gp(U)){W6(k,null,!0);return}let Z;var n=g.X1(k.B.S,!0);for(let C=0;C<n.length;C++){const r=n[C];r.languageCode!==U.languageCode||Z&&(r.languageName!==U.languageName||(r.captionId||"")!==(U.captionId||"")||g.sj(r)!==U.displayName)||(Z=U.translationLanguage?JK_(r,U.translationLanguage):r)}k.KM(U.position);!Z||Z===k.S&&k.loaded||(U=g.we(),n=g.DT(Z),U.length&&n===U[U.length-1]||(U.push(n),g.Lr("yt-player-caption-language-preferences",
U)),qBm(k.k$)&&!k.O.isInline()&&g.Lr("yt-player-caption-sticky-language",n,2592E3),W6(k,Z,!0))}else return k.loaded&&k.S&&!B6(k)?g.Y5(k.S):{};return""};
g.c4.prototype.Lp=g.nz(65,function(k,U,n){this.B.set(k,{tN:U,O5:n})});
g.lm.prototype.Lp=g.nz(64,function(k,U,n){this.dM.Lp(k,U,n)});
g.B4.prototype.Y=g.nz(63,function(){return!1});
g.B4.prototype.J=g.nz(62,function(){});
g.P4.prototype.J=g.nz(61,function(k,U,n){this.LN();U=this.V(k,U);const Z=this.y$.U().C("html5_report_captions_ctmp_qoe"),C=(0,g.D)();this.j();ICO(this,U,{format:"RAW",onSuccess:r=>{this.B=null;if(Z){var L=(r.responseText.length/1024).toFixed();const F=(0,g.D)();this.videoData.rM("capresp",{ms:F-C,kb:L})}L=r.getResponseHeader&&r.getResponseHeader("Content-Length")?Number(r.getResponseHeader("Content-Length")):0;n.fE(r.responseText,k,void 0,void 0,L)},
onError:Z?r=>{this.videoData.rM("capfail",{status:r?.status??0})}:void 0,
withCredentials:!0})});
g.sH.prototype.J=g.nz(60,function(k,U,n){this.LN();U=this.V(k,U);this.j();this.B=g.xX(U,{format:"RAW",onSuccess:Z=>{this.B=null;const C=Z.getResponseHeader&&Z.getResponseHeader("Content-Length")?Number(Z.getResponseHeader("Content-Length")):0;n.fE(Z.responseText,k,void 0,void 0,C)},
withCredentials:!0})});
g.yU.prototype.L=g.nz(59,function(){const k=g.mf(document,"track",void 0,this.S);for(let U=0;U<k.length;U++)g.Ex(k[U])});
g.mM.prototype.L=g.nz(58,function(){this.mediaElement.L()});
g.yU.prototype.By=g.nz(57,function(){return!(!this.S.textTracks||!this.S.textTracks.addEventListener)});
g.mM.prototype.By=g.nz(56,function(){return this.mediaElement.By()});
g.yU.prototype.x$=g.nz(55,function(){return!!this.S.textTracks});
g.mM.prototype.x$=g.nz(54,function(){return this.mediaElement.x$()});
g.yU.prototype.dM=g.nz(53,function(k){for(let U=0;U<k.length;U++)this.S.appendChild(k[U])});
g.mM.prototype.dM=g.nz(52,function(k){this.mediaElement.dM(k)});
g.wX.prototype.QV=g.nz(40,function(k){return g.Mp(this.app,{playerType:void 0}).QV(k)});
g.A7.prototype.QV=g.nz(39,function(k){return this.Py.iK.QV(k)});
g.aj.prototype.QV=g.nz(38,function(k){return this.Zk().some(U=>U.namespace===k)});
g.G$.prototype.QV=g.nz(37,function(){return!1});
g.wX.prototype.HS=g.nz(35,function(k,U){this.app.nN().HS(k,U)});
g.A7.prototype.HS=g.nz(34,function(k,U){this.Py.HS(k,U)});
g.z$.prototype.HS=g.nz(33,function(k,U){k=[k,U];g.si(this,g.oI(this.provider),"cfi",k)});
g.T$.prototype.HS=g.nz(32,function(k,U){this.qoe&&this.qoe.HS(k,U)});
g.bv.prototype.HS=g.nz(31,function(k,U){this.Km.HS(k,U)});
g.G$.prototype.HS=g.nz(30,function(){});
g.wX.prototype.BS=g.nz(29,function(k,U,n){this.app.nN().BS(k,U,n)});
g.A7.prototype.BS=g.nz(28,function(k,U,n){this.Py.BS(k,U,n)});
g.z$.prototype.BS=g.nz(27,function(k,U,n){if(this.eE!==k||this.Y$!==U)U=U==="rawcc"?"":U,n=[k,U,this.eE,n],g.si(this,g.oI(this.provider),"cfs",n),this.eE=k,this.Y$=U});
g.T$.prototype.BS=g.nz(26,function(k,U,n){this.qoe&&this.qoe.BS(k,U,n)});
g.bv.prototype.BS=g.nz(25,function(k,U,n){this.Km.BS(k,U,n)});
g.G$.prototype.BS=g.nz(24,function(){});
g.xY.prototype.O6=g.nz(3,function(k){return(k=this.j(k))?k.S:0});
g.im.prototype.O6=g.nz(2,function(){return 0});
var s1b=/#(.)(.)(.)/,P_m=/^#(?:[0-9a-f]{3}){1,2}$/i,GVx={aa:"Afar",ab:"Abkhazian",ace:"Acehnese",ach:"Acoli",ada:"Adangme",ady:"Adyghe",ae:"Avestan",aeb:"Tunisian Arabic",af:"Afrikaans",afh:"Afrihili",agq:"Aghem",ain:"Ainu",ak:"Akan",akk:"Akkadian",akz:"Alabama",ale:"Aleut",aln:"Gheg Albanian",alt:"Southern Altai",am:"Amharic",an:"Aragonese",ang:"Old English",anp:"Angika",ar:"Arabic",ar_001:"Arabic (world)",arc:"Aramaic",arn:"Mapuche",aro:"Araona",arp:"Arapaho",arq:"Algerian Arabic",ars:"Najdi Arabic",
arw:"Arawak",ary:"Moroccan Arabic",arz:"Egyptian Arabic",as:"Assamese",asa:"Asu",ase:"American Sign Language",ast:"Asturian",av:"Avaric",avk:"Kotava",awa:"Awadhi",ay:"Aymara",az:"Azerbaijani",az_Cyrl:"Azerbaijani (Cyrillic)",az_Latn:"Azerbaijani (Latin)",ba:"Bashkir",bal:"Baluchi",ban:"Balinese",bar:"Bavarian",bas:"Basaa",bax:"Bamun",bbc:"Batak Toba",bbj:"Ghomala",be:"Belarusian",bej:"Beja",bem:"Bemba",bew:"Betawi",bez:"Bena",bfd:"Bafut",bfq:"Badaga",bg:"Bulgarian",bgc:"Haryanvi",bgn:"Western Balochi",
bho:"Bhojpuri",bi:"Bislama",bik:"Bikol",bin:"Bini",bjn:"Banjar",bkm:"Kom",bla:"Siksik\u00e1",blo:"Anii",bm:"Bambara",bn:"Bangla",bo:"Tibetan",bpy:"Bishnupriya",bqi:"Bakhtiari",br:"Breton",bra:"Braj",brh:"Brahui",brx:"Bodo",bs:"Bosnian",bs_Cyrl:"Bosnian (Cyrillic)",bs_Latn:"Bosnian (Latin)",bss:"Akoose",bua:"Buriat",bug:"Buginese",bum:"Bulu",byn:"Blin",byv:"Medumba",ca:"Catalan",cad:"Caddo",car:"Carib",cay:"Cayuga",cch:"Atsam",ccp:"Chakma",ce:"Chechen",ceb:"Cebuano",cgg:"Chiga",ch:"Chamorro",chb:"Chibcha",
chg:"Chagatai",chk:"Chuukese",chm:"Mari",chn:"Chinook Jargon",cho:"Choctaw",chp:"Chipewyan",chr:"Cherokee",chy:"Cheyenne",ckb:"Central Kurdish",co:"Corsican",cop:"Coptic",cps:"Capiznon",cr:"Cree",crh:"Crimean Tatar",cs:"Czech",csb:"Kashubian",csw:"Swampy Cree",cu:"Church Slavic",cv:"Chuvash",cy:"Welsh",da:"Danish",dak:"Dakota",dar:"Dargwa",dav:"Taita",de:"German",de_AT:"German (Austria)",de_CH:"German (Switzerland)",del:"Delaware",den:"Slave",dgr:"Dogrib",din:"Dinka",dje:"Zarma",doi:"Dogri",dsb:"Lower Sorbian",
dua:"Duala",dum:"Middle Dutch",dv:"Divehi",dyo:"Jola-Fonyi",dyu:"Dyula",dz:"Dzongkha",dzg:"Dazaga",ebu:"Embu",ee:"Ewe",efi:"Efik",egy:"Ancient Egyptian",eka:"Ekajuk",el:"Greek",elx:"Elamite",en:"English",en_AU:"English (Australia)",en_CA:"English (Canada)",en_GB:"English (United Kingdom)",en_US:"English (United States)",enm:"Middle English",eo:"Esperanto",es:"Spanish",es_419:"Spanish (Latin America)",es_ES:"Spanish (Spain)",es_MX:"Spanish (Mexico)",et:"Estonian",eu:"Basque",ewo:"Ewondo",fa:"Persian",
fa_AF:"Persian (Afghanistan)",fan:"Fang",fat:"Fanti",ff:"Fula",ff_Adlm:"Fula (Adlam)",ff_Latn:"Fula (Latin)",fi:"Finnish",fil:"Filipino",fj:"Fijian",fo:"Faroese",fon:"Fon",fr:"French",fr_CA:"French (Canada)",fr_CH:"French (Switzerland)",frm:"Middle French",fro:"Old French",frr:"Northern Frisian",frs:"Eastern Frisian",fur:"Friulian",fy:"Western Frisian",ga:"Irish",gaa:"Ga",gay:"Gayo",gba:"Gbaya",gd:"Scottish Gaelic",gez:"Geez",gil:"Gilbertese",gl:"Galician",gmh:"Middle High German",gn:"Guarani",goh:"Old High German",
gon:"Gondi",gor:"Gorontalo",got:"Gothic",grb:"Grebo",grc:"Ancient Greek",gsw:"Swiss German",gu:"Gujarati",guz:"Gusii",gv:"Manx",gwi:"Gwich\u02bcin",ha:"Hausa",hai:"Haida",haw:"Hawaiian",he:"Hebrew",hi:"Hindi",hi_Latn:"Hindi (Latin)",hil:"Hiligaynon",hit:"Hittite",hmn:"Hmong",ho:"Hiri Motu",hr:"Croatian",hsb:"Upper Sorbian",ht:"Haitian Creole",hu:"Hungarian",hup:"Hupa",hy:"Armenian",hz:"Herero",ia:"Interlingua",iba:"Iban",ibb:"Ibibio",id:"Indonesian",ie:"Interlingue",ig:"Igbo",ii:"Sichuan Yi",ik:"Inupiaq",
ilo:"Iloko","in":"Indonesian",inh:"Ingush",io:"Ido",is:"Icelandic",it:"Italian",iu:"Inuktitut",iw:"Hebrew",ja:"Japanese",jbo:"Lojban",jgo:"Ngomba",jmc:"Machame",jpr:"Judeo-Persian",jrb:"Judeo-Arabic",jv:"Javanese",ka:"Georgian",kaa:"Kara-Kalpak",kab:"Kabyle",kac:"Kachin",kaj:"Jju",kam:"Kamba",kaw:"Kawi",kbd:"Kabardian",kbl:"Kanembu",kcg:"Tyap",kde:"Makonde",kea:"Kabuverdianu",kfo:"Koro",kg:"Kongo",kgp:"Kaingang",kha:"Khasi",kho:"Khotanese",khq:"Koyra Chiini",ki:"Kikuyu",kj:"Kuanyama",kk:"Kazakh",
kk_Arab:"Kazakh (Arabic)",kk_Cyrl:"Kazakh (Cyrillic)",kkj:"Kako",kl:"Kalaallisut",kln:"Kalenjin",km:"Khmer",kmb:"Kimbundu",kn:"Kannada",ko:"Korean",kok:"Konkani",kok_Deva:"Konkani (Devanagari)",kok_Latn:"Konkani (Latin)",kos:"Kosraean",kpe:"Kpelle",kr:"Kanuri",krc:"Karachay-Balkar",krl:"Karelian",kru:"Kurukh",ks:"Kashmiri",ks_Arab:"Kashmiri (Arabic)",ks_Deva:"Kashmiri (Devanagari)",ksb:"Shambala",ksf:"Bafia",ksh:"Colognian",ku:"Kurdish",ku_Latn:"Kurdish (Latin)",kum:"Kumyk",kut:"Kutenai",kv:"Komi",
kw:"Cornish",kxv:"Kuvi",kxv_Deva:"Kuvi (Devanagari)",kxv_Latn:"Kuvi (Latin)",kxv_Orya:"Kuvi (Odia)",kxv_Telu:"Kuvi (Telugu)",ky:"Kyrgyz",la:"Latin",lad:"Ladino",lag:"Langi",lah:"Western Panjabi",lam:"Lamba",lb:"Luxembourgish",lez:"Lezghian",lg:"Ganda",li:"Limburgish",lij:"Ligurian",lkt:"Lakota",lmo:"Lombard",ln:"Lingala",lo:"Lao",lol:"Mongo",loz:"Lozi",lrc:"Northern Luri",lt:"Lithuanian",lu:"Luba-Katanga",lua:"Luba-Lulua",lui:"Luiseno",lun:"Lunda",luo:"Luo",lus:"Mizo",luy:"Luyia",lv:"Latvian",mad:"Madurese",
maf:"Mafa",mag:"Magahi",mai:"Maithili",mak:"Makasar",man:"Mandingo",mas:"Masai",mde:"Maba",mdf:"Moksha",mdr:"Mandar",men:"Mende",mer:"Meru",mfe:"Morisyen",mg:"Malagasy",mga:"Middle Irish",mgh:"Makhuwa-Meetto",mgo:"Meta\u02bc",mh:"Marshallese",mi:"M\u0101ori",mic:"Mi'kmaw",min:"Minangkabau",mk:"Macedonian",ml:"Malayalam",mn:"Mongolian",mnc:"Manchu",mni:"Manipuri",mni_Beng:"Manipuri (Bangla)",mo:"Romanian",moh:"Mohawk",mos:"Mossi",mr:"Marathi",ms:"Malay",mt:"Maltese",mua:"Mundang",mul:"Multiple languages",
mus:"Muscogee",mwl:"Mirandese",mwr:"Marwari",my:"Burmese",mye:"Myene",myv:"Erzya",mzn:"Mazanderani",na:"Nauru",nap:"Neapolitan",naq:"Nama",nb:"Norwegian Bokm\u00e5l",nd:"North Ndebele",nds:"Low German",nds_NL:"Low German (Netherlands)",ne:"Nepali","new":"Newari",ng:"Ndonga",nia:"Nias",niu:"Niuean",nl:"Dutch",nl_BE:"Dutch (Belgium)",nmg:"Kwasio",nn:"Norwegian Nynorsk",nnh:"Ngiemboon",no:"Norwegian",nog:"Nogai",non:"Old Norse",nqo:"N\u2019Ko",nr:"South Ndebele",nso:"Northern Sotho",nus:"Nuer",nv:"Navajo",
nwc:"Classical Newari",ny:"Nyanja",nym:"Nyamwezi",nyn:"Nyankole",nyo:"Nyoro",nzi:"Nzima",oc:"Occitan",oj:"Ojibwa",om:"Oromo",or:"Odia",os:"Ossetic",osa:"Osage",ota:"Ottoman Turkish",pa:"Punjabi",pa_Arab:"Punjabi (Arabic)",pa_Guru:"Punjabi (Gurmukhi)",pag:"Pangasinan",pal:"Pahlavi",pam:"Pampanga",pap:"Papiamento",pau:"Palauan",pcm:"Nigerian Pidgin",peo:"Old Persian",phn:"Phoenician",pi:"Pali",pl:"Polish",pms:"Piedmontese",pon:"Pohnpeian",prg:"Prussian",pro:"Old Proven\u00e7al",ps:"Pashto",pt:"Portuguese",
pt_BR:"Portuguese (Brazil)",pt_PT:"Portuguese (Portugal)",qu:"Quechua",raj:"Rajasthani",rap:"Rapanui",rar:"Rarotongan",rm:"Romansh",rn:"Rundi",ro:"Romanian",ro_MD:"Romanian (Moldova)",rof:"Rombo",rom:"Romany",ru:"Russian",rup:"Aromanian",rw:"Kinyarwanda",rwk:"Rwa",sa:"Sanskrit",sad:"Sandawe",sah:"Yakut",sam:"Samaritan Aramaic",saq:"Samburu",sas:"Sasak",sat:"Santali",sat_Olck:"Santali (Ol Chiki)",sba:"Ngambay",sbp:"Sangu",sc:"Sardinian",scn:"Sicilian",sco:"Scots",sd:"Sindhi",sd_Arab:"Sindhi (Arabic)",
sd_Deva:"Sindhi (Devanagari)",se:"Northern Sami",see:"Seneca",seh:"Sena",sel:"Selkup",ses:"Koyraboro Senni",sg:"Sango",sga:"Old Irish",sh:"Serbo-Croatian",shi:"Tachelhit",shi_Latn:"Tachelhit (Latin)",shi_Tfng:"Tachelhit (Tifinagh)",shn:"Shan",shu:"Chadian Arabic",si:"Sinhala",sid:"Sidamo",sk:"Slovak",sl:"Slovenian",sm:"Samoan",sma:"Southern Sami",smj:"Lule Sami",smn:"Inari Sami",sms:"Skolt Sami",sn:"Shona",snk:"Soninke",so:"Somali",sog:"Sogdien",sq:"Albanian",sr:"Serbian",sr_Cyrl:"Serbian (Cyrillic)",
sr_Latn:"Serbian (Latin)",srn:"Sranan Tongo",srr:"Serer",ss:"Swati",ssy:"Saho",st:"Southern Sotho",su:"Sundanese",su_Latn:"Sundanese (Latin)",suk:"Sukuma",sus:"Susu",sux:"Sumerian",sv:"Swedish",sw:"Swahili",sw_CD:"Swahili (Congo - Kinshasa)",swb:"Comorian",syc:"Classical Syriac",syr:"Syriac",szl:"Silesian",ta:"Tamil",te:"Telugu",tem:"Timne",teo:"Teso",ter:"Tereno",tet:"Tetum",tg:"Tajik",th:"Thai",ti:"Tigrinya",tig:"Tigre",tiv:"Tiv",tk:"Turkmen",tkl:"Tokelauan",tl:"Tagalog",tlh:"Klingon",tli:"Tlingit",
tmh:"Tamashek",tn:"Tswana",to:"Tongan",tog:"Nyasa Tonga",tok:"Toki Pona",tpi:"Tok Pisin",tr:"Turkish",trv:"Taroko",ts:"Tsonga",tsi:"Tsimshian",tt:"Tatar",tum:"Tumbuka",tvl:"Tuvalu",tw:"Twi",twq:"Tasawaq",ty:"Tahitian",tyv:"Tuvinian",tzm:"Central Atlas Tamazight",udm:"Udmurt",ug:"Uyghur",uga:"Ugaritic",uk:"Ukrainian",umb:"Umbundu",ur:"Urdu",uz:"Uzbek",uz_Arab:"Uzbek (Arabic)",uz_Cyrl:"Uzbek (Cyrillic)",uz_Latn:"Uzbek (Latin)",vai:"Vai",vai_Latn:"Vai (Latin)",vai_Vaii:"Vai (Vai)",ve:"Venda",vec:"Venetian",
vi:"Vietnamese",vmw:"Makhuwa",vo:"Volap\u00fck",vot:"Votic",vun:"Vunjo",wa:"Walloon",wae:"Walser",wal:"Wolaytta",war:"Waray",was:"Washo",wo:"Wolof",xal:"Kalmyk",xh:"Xhosa",xnr:"Kangri",xog:"Soga",yao:"Yao",yap:"Yapese",yav:"Yangben",ybb:"Yemba",yi:"Yiddish",yo:"Yoruba",yrl:"Nheengatu",yue:"Cantonese",yue_Hans:"Cantonese (Simplified)",yue_Hant:"Cantonese (Traditional)",za:"Zhuang",zap:"Zapotec",zbl:"Blissymbols",zen:"Zenaga",zgh:"Standard Moroccan Tamazight",zh:"Chinese",zh_Hans:"Chinese (Simplified)",
zh_Hant:"Chinese (Traditional)",zh_TW:"Chinese (Taiwan)",zu:"Zulu",zun:"Zuni",zxx:"No linguistic content",zza:"Zaza"},iZ2={en:"English"},UTE=class extends g.B4{constructor(k){super(k);this.B=new Set}W(k){var U=this.y$.gm();if(U&&U.j5()){U=U.j5().textTracks;for(const n of U)n.kind==="subtitles"&&!this.B.has(n.language)&&n.language&&(g.eW(this.S,new g.GF({languageCode:n.language,languageName:n.language,kind:n.kind,id:n.id,displayName:iZ2[n.label]||n.label,vss_id:`.${n.language}`})),this.B.add(n.language))}g.X1(this.S).length>
0&&k.wD()}},nEE=class{constructor(){this.segments=[]}contains(k){k=g.hm(this.segments,k);return k>=0||k<0&&(-k-1)%2===1}length(){return this.segments.length/2}},ZZb=class extends g.ca{constructor(k,U,n,Z,C,r){super();this.policy=k;this.player=U;this.fN=n;this.X=Z;this.W=C;this.Y=r;this.J=new nEE;this.V=-1;this.B=this.j=this.S=null;this.SE=0;this.L=new g.iX(this.dM,1E3,this);this.events=new g.HW(this);g.K(this,this.L);g.K(this,this.events);this.events.K(U,"SEEK_COMPLETE",this.D);this.D();this.dM()}Q$(){super.Q$();
this.B&&this.B.cancel()}D(){this.seekTo(this.player.getCurrentTime())}seekTo(k){k-=this.player.uZ();const U=this.S;this.S=g.DV(this.fN.V(k).M0);U!==this.S&&this.Y&&this.Y()}reset(){this.J=new nEE;this.V=-1;this.B&&(this.B.cancel(),this.B=null)}dM(){this.LN();var k;if(k=this.S!=null)k=this.S,k=k.fN.J(k);if(k&&!this.B&&!(this.S&&this.S.startTime-this.player.getCurrentTime()>30)){k=this.S;k=k.fN.eE(k);const C=k.M0[0];if(this.player.getVideoData()?.enableServerStitchedDai){var U=this.player.u7();if(U){var n=
C.fN.info.id;const r=C.t8;var Z=k.M0[0].J;if(this.policy.eE){if(U=g.T1J(U,Z,r,n,3))k.J=U}else if(n=U.Qt(Z,r,n,3))if(Z=2,U.yp.has(r)?Z=0:g.HU(U,r)&&(Z=1),U=Z,U===0)n&&(k.S=new g.sD(n));else if(U===2){this.L.start();oLV(this)&&this.seekTo(this.player.getCurrentTime());return}}}C.fN.index.wY(C.t8)?(this.J.contains(k.M0[0].t8)||Wdm(this,k),this.S=g.DV(k.M0)):oLV(this)&&this.seekTo(this.player.getCurrentTime())}this.L.start()}},CuE=class extends g.B4{constructor(k,U){super(U);this.B=k;this.O=U;this.X=
null;this.dM=!1;this.logger=new g.fQ("caps");this.SE=g.B3(this.O,this.B)}J(k,U,n){this.j();U=j1m(this,k.getId());U||(U=k.languageCode,U=this.B.isManifestless?SBB(this,U,"386"):SBB(this,U));if(U){var Z=(U.index.O6(U.index.gY())-U.index.getStartTime(U.index.gY()))*1E3,C=new g.HBO(this.O.U());this.X=new ZZb(C,this.O,U,(r,L)=>{n.fE(r,k,L,Z)},this.SE||g.WO(U.info),()=>{this.X&&this.X.reset();
this.dM=!0})}}Y(){const k=this.dM;
this.dM=!1;return k}W(k){var U=this.O.U().C("html5_fallback_if_rawcc_missing");const n=this.B.S.rawcc!=null;if(!this.SE||!n&&U)U=this.B.isManifestless?fCE(this,"386"):fCE(this);else{if(!n){g.M3(this.logger,386248249,"rawcc used but unavailable");return}U=[new g.GF({id:"rawcc",languageCode:"rawcc",languageName:"CC1",is_servable:!0,is_default:!0,is_translateable:!1,vss_id:".en"}),new g.GF({id:"rawcc",languageCode:"rawcc",languageName:"CC3",is_servable:!0,is_default:!0,is_translateable:!1,vss_id:".en"})]}for(const Z of U)g.eW(this.S,
Z);k.wD()}j(){this.X&&(this.X.dispose(),this.X=null)}V(){return""}},Kc=/^#(?:[0-9a-f]{3}){1,2}$/i;var rzE=["left","right","center","justify"];var jg=class extends g.l{constructor(k,U,n,Z,C,r,L,F,v,O){const w=O.isInline()&&!0,u={};Object.assign(u,U);Object.assign(u,k.params);Object.assign(u,n);const X={};Object.assign(X,U.MQ);k.params.MQ&&Object.assign(X,k.params.MQ);Object.assign(X,n.MQ);w&&(u.windowOpacity=.6,X.backgroundOpacity=0);u.MQ=X;const E=u.CZ===1,V=[{Z:"span",A:"captions-text",N:{style:"word-wrap: normal; display: block;"}}],Q=F.iL("caption_edit_on_hover")&&O.getVideoData().getPlayerResponse()?.captions?.playerCaptionsTracklistRenderer?.openTranscriptCommand;
Q&&V.unshift({Z:"button",A:"caption-edit",N:{tabindex:"0","aria-label":YBx()},G:[{Z:"svg",N:{fill:"#e3e3e3",height:"100%",viewBox:"5 5 38 38",width:"100%"},G:[{Z:"path",N:{d:"M9 39h2.2l24.25-24.25-1.1-1.1-1.1-1.1L9 36.8Zm-3 3v-6.4L35.4 6.2q.85-.85 2.12-.82 1.27.02 2.12.87L41.8 8.4q.85.85.85 2.1t-.85 2.1L12.4 42Zm33.5-31.55L37.45 8.4Zm-4.05 4.3-1.1-1.1-1.1-1.1 2.2 2.2Z"}}]}]});super({Z:"div",A:"caption-window",N:{id:`${"caption-window"}-${k.id}`,dir:E?"rtl":"ltr",tabindex:"0",lang:u.lang},G:V});this.V=
[];this.eE=!1;this.B=k;this.V$=this.IQ=null;this.Sl=r;this.FA=L;this.L=null;this.maxWidth=r*.96;this.maxHeight=L*.96;this.S=u;this.EU=n;this.x$=U;this.j=this.jE("captions-text");this.Nf=this.j.style.getPropertyValue("box-decoration-break")!==""||this.j.style.getPropertyValue("-webkit-box-decoration-break")!=="";this.Xo=M_E(Z,C,r,L);this.f7=v;Q&&(this.W=this.jE("caption-edit"),this.K(this.W,"click",()=>{this.f7()}));
this.type=0;this.aQ=this.Xo*yKV(X);this.xo=w;this.uL=F.iL("enable_centered_caption_for_tvfilm_video")&&O.getVideoData().isTvfilmVideo;this.D=O.U().Q3().S.Db(g.uDn);k=new g.dl(this.element,!0);g.K(this,k);k.subscribe("dragstart",this.n7,this);k.subscribe("dragmove",this.TN,this);k.subscribe("dragend",this.tH,this);this.Fo=this.GJ=this.Y$=this.h8=0;k="";this.S.windowOpacity&&(k=O3(this.S.windowColor),k="rgba("+k[0]+","+k[1]+","+k[2]+","+this.S.windowOpacity+")");U={"background-color":k,display:this.S.isVisible===
!1?"none":"","text-align":rzE[this.S.textAlign]};this.Nf&&(U["border-radius"]=k?`${this.aQ/8}px`:"");(this.J=this.B.params.CZ===2||this.B.params.CZ===3)&&cKs(this,this.element);g.Pl(this.element,U);w&&this.element.parentElement?.style.setProperty("--caption-window-color",k);switch(this.S.n4){case 0:case 1:case 2:g.F_(this.element,"ytp-caption-window-top");break;case 6:case 7:case 8:g.F_(this.element,"ytp-caption-window-bottom")}}n7(k,U){this.GJ=k;this.Fo=U;const n=g.lA(this.element,this.element.parentElement);
this.h8=k-n.x;this.Y$=U-n.y}TN(k,U){if(k!==this.GJ||U!==this.Fo){g.L2(this.element,"ytp-dragging")||g.F_(this.element,"ytp-dragging");var n=g.xr(this.element);k=k-this.h8-.02*this.Sl;var Z=U-this.Y$-.02*this.FA,C=(k+n.width/2)/this.maxWidth*3;C=Math.floor(g.I0(C,0,2));var r=(Z+n.height/2)/this.maxHeight*3;r=Math.floor(g.I0(r,0,2));U=C+r*3;k=(k+C/2*n.width)/this.maxWidth;k=g.I0(k,0,1)*100;n=(Z+r/2*n.height)/this.maxHeight;n=g.I0(n,0,1)*100;this.B.params.n4=U;this.B.params.AM=n;this.B.params.mB=k;this.B.params.isDefault=
!1;this.S.n4=U;this.S.AM=n;this.S.mB=k;this.S.isDefault=!1;this.x$.n4=U;this.x$.AM=n;this.x$.mB=k;this.x$.isDefault=!1;this.Hc()}}tH(){g.Oe(this.element,"ytp-dragging")}Hc(){this.X(this.V)}X(k){var U=this.xo?0:Math.min(this.V3(),this.maxWidth),n=this.e5(),Z=this.xo;if(Z){var C=getComputedStyle(this.j.parentNode);C=u8(C.borderLeftWidth)+u8(C.borderRightWidth)+u8(C.paddingLeft)+u8(C.paddingRight)}else C=0;const r=C;C="";this.B.params.CZ===3&&(C="rotate(180deg)");var L=Z?`calc(${"96%"} - ${r}px)`:"96%";
g.Pl(this.element,{top:0,left:0,right:"",bottom:"",width:U?`${U}px`:"",height:n?`${n}px`:"","max-width":L,"max-height":L,margin:"",transform:""});this.TJ(k);C={transform:C,top:"",left:"",width:U?`${U}px`:"",height:n?`${n}px`:"","max-width":"","max-height":""};L=this.S.n4;var F=this.S.mB;const v=this.S.AM;this.uL&&L!=null&&(F=50,L=Math.floor(L/3)*3+1);F=F*.96+2;switch(L){case 0:case 3:case 6:(Z=this.S.MQ.fontSizeIncrement)&&Z>0&&this.S.CZ!==2&&this.S.CZ!==3&&(F=Math.max(F/(1+Z*2),2));C.left=`${F}%`;
break;case 1:case 4:case 7:C.left=`${F}%`;F=0;this.D||(F=this.j.offsetWidth);U||F?(U=U||F+1,C.width=`${U}px`,C["margin-left"]=Z?`${U/-2-r/2}px`:`${U/-2}px`):(this.D&&(C.width="max-content"),C.transform+=" translateX(-50%)");break;case 2:case 5:case 8:C.right=`${100-F}%`}Z=v*.96+2;switch(L){case 0:case 1:case 2:C.top=`${Z}%`;break;case 3:case 4:case 5:C.top=`${Z}%`;Z=0;this.D||(Z=this.element.clientHeight);(n=n||Z)?(C.height=`${n}px`,C["margin-top"]=`${n/-2}px`):C.transform+=" translateY(-50%)";break;
case 6:case 7:case 8:C.bottom=`${100-Z}%`}g.Pl(this.element,C);if(this.W){if(this.D)n=this.aQ;else{if(this.uL&&k.length===0)k=0;else{n=1;for(Z=0;Z<k.length;Z++)C=k[Z],typeof C.text==="string"&&(n+=C.text.split("\n").length-1,C.append||Z===0||n++);k=n}n=this.uL?k>0?this.j.offsetHeight/k:0:this.j.offsetHeight/k}this.W.style.height=`${n}px`;this.W.style.width=`${n}px`;this.element.style.paddingLeft=`${n+5}px`;this.element.style.paddingRight=`${n+5}px`;this.D||(k=Number(this.element.style.marginLeft.replace("px",
""))-n-5,n=Number(this.element.style.marginRight.replace("px",""))-n-5,this.element.style.marginLeft=`${k}px`,this.element.style.marginRight=`${n}px`)}}TJ(k){let U;for(U=0;U<k.length&&k[U]===this.V[U];U++);if(this.eE||this.V.length>U)U=0,this.eE=!1,this.V=[],this.L=this.V$=this.IQ=null,g.g8(this.j);for(;U<k.length;U++)kfE(this,k[U])}V3(){return 0}e5(){return 0}toString(){return super.toString()}};var FW7=class{constructor(){this.j=this.time=this.mode=this.B=0;this.J=new LWB(this);this.W=new LWB(this);this.S=[];this.clear()}clear(){this.j=this.time=this.mode=0;this.S=[];this.reset()}reset(){this.mode=0;this.J.reset(0);this.W.reset(1)}},iR7=[128,1,2,131,4,133,134,7,8,137,138,11,140,13,14,143,16,145,146,19,148,21,22,151,152,25,26,155,28,157,158,31,32,161,162,35,164,37,38,167,168,41,42,171,44,173,174,47,176,49,50,179,52,181,182,55,56,185,186,59,188,61,62,191,64,193,194,67,196,69,70,199,200,73,
74,203,76,205,206,79,208,81,82,211,84,213,214,87,88,217,218,91,220,93,94,223,224,97,98,227,100,229,230,103,104,233,234,107,236,109,110,239,112,241,242,115,244,117,118,247,248,121,122,251,124,253,254,127,0,129,130,3,132,5,6,135,136,9,10,139,12,141,142,15,144,17,18,147,20,149,150,23,24,153,154,27,156,29,30,159,160,33,34,163,36,165,166,39,40,169,170,43,172,45,46,175,48,177,178,51,180,53,54,183,184,57,58,187,60,189,190,63,192,65,66,195,68,197,198,71,72,201,202,75,204,77,78,207,80,209,210,83,212,85,86,
215,216,89,90,219,92,221,222,95,96,225,226,99,228,101,102,231,232,105,106,235,108,237,238,111,240,113,114,243,116,245,246,119,120,249,250,123,252,125,126,255],vEO=class{constructor(){this.type=0}set(k){this.type=k}get(){return this.type}},OZ_=class{constructor(){this.state=this.dF=this.fg=0}clear(){this.state=0}update(){this.state=this.state===2?1:0}Vd(){return this.state!==0}matches(k,U){return this.Vd()&&k===this.fg&&U===this.dF}},wq2=class{constructor(){this.timestamp=this.S=0}reset(){this.timestamp=
this.S=0}},Sg=class{constructor(k){this.W=k;this.j=[];this.S=this.B=this.row=0;this.style=new vEO;this.J=0;for(k=0;k<=15;k++){this.j[k]=[];for(let U=0;U<=32;U++)this.j[k][U]=new wq2}}updateTime(k){for(let U=1;U<=15;++U)for(let n=1;n<=32;++n)this.j[U][n].timestamp=k}debugString(){let k="\n";for(let U=1;U<=15;++U){for(let n=1;n<=32;++n){const Z=this.j[U][n];k=Z.S===0?k+"_":k+String.fromCharCode(Z.S)}k+="\n"}return k}reset(k){for(let U=0;U<=15;U++)for(let n=0;n<=32;n++)this.j[U][n].reset();this.J=k;
this.S=0;this.B=this.row=1}},rr7=[32,33,34,35,36,37,38,39,40,41,225,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,233,93,237,243,250,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,231,247,209,241,9632],Lym=[174,176,189,191,8482,162,163,9834,224,32,232,226,234,238,244,251],FyO=[193,201,211,218,220,252,8216,161,42,39,9473,169,8480,183,8220,8221,192,
194,199,200,202,203,235,206,207,239,212,217,249,219,171,187],vMi=[195,227,205,204,236,210,242,213,245,123,125,92,94,95,124,126,196,228,214,246,223,165,164,9475,197,229,216,248,9487,9491,9495,9499],uXp=class{constructor(k){this.j=k;this.W=0;this.style=new vEO;this.V=new Sg(this.j);this.L=new Sg(this.j);this.text=new Sg(this.j);this.B=this.V;this.J=this.L;this.S=this.B}reset(k,U){this.W=U;this.style.set(2);this.B=this.V;this.J=this.L;this.S=this.B;const n=(k<<2)+(U<<1);this.V.reset(n);this.L.reset(n);
this.text.reset((k<<2)+(U<<1)+1)}},LWB=class{constructor(k){this.S=k;this.W=0;this.j=new uXp(this.S);this.V=new uXp(this.S);this.B=new OZ_;this.J=this.j}reset(k){this.W=k;this.B.clear();this.J=this.j;this.j.reset(k,0);this.V.reset(k,1)}};var gEE=class{J(){}};var H6=class extends g.sc{constructor(k,U,n,Z,C,r=!1,L=null){super(k,k+U,{priority:n,namespace:"captions"});this.windowId=Z;this.text=C;this.append=r;this.S=L}toString(){return super.toString()}};var Gc=class extends g.ca{reset(){}};var hl=class extends g.sc{constructor(k,U,n,Z,C){super(k,k+U,{priority:n,namespace:"captions"});this.id=Z;this.params=C;this.S=[]}toString(){return super.toString()}},RA=0;var XqB=class extends Gc{constructor(k){super();this.J=k;this.pens={};this.X={};this.D={};this.W="_"+RA++;this.L={};this.B=this.S=null;this.V=!0}reset(){this.L={};this.B=this.S=null;this.V=!0}j(k,U){k=k.firstChild;k.getAttribute("format");U=U||0;Number.isFinite(U);k=Array.from(k.childNodes);for(var n of k)if(n.nodeType===1)switch(n.tagName){case "head":var Z=n;break;case "body":var C=n}if(Z){Z=Array.from(Z.childNodes);for(var r of Z)if(r.nodeType===1)switch(r.tagName){case "pen":n=r.getAttribute("id");
Z=this.pens;k={};var L=r.getAttribute("p");L&&Object.assign(k,this.pens[L]);L=zc(r,"b");L!=null&&(k.bold=L);L=zc(r,"i");L!=null&&(k.italic=L);L=zc(r,"u");L!=null&&(k.underline=L);L=Qc(r,"et");L!=null&&(k.charEdgeStyle=L);L=Qc(r,"of");L!=null&&(k.offset=L);L=Tc(r,"bc");L!=null&&(k.background=L);L=Tc(r,"ec");L!=null&&(k.z3=L);L=Tc(r,"fc");L!=null&&(k.color=L);L=Qc(r,"fs");L!=null&&L!==0&&(k.fontFamily=L);L=b8(r,"sz");L!==void 0&&(k.fontSizeIncrement=L/100-1);L=b8(r,"bo");L!==void 0&&(k.backgroundOpacity=
L/255);L=b8(r,"fo");L!==void 0&&(k.textOpacity=L/255);L=Qc(r,"rb");L!=null&&L!==10&&L!==0&&(k.Ym=L>10?L-1:L);L=Qc(r,"hg");L!=null&&(k.sH=L);Z[n]=k;break;case "ws":Z=r.getAttribute("id");this.D[Z]=dtY(this,r);break;case "wp":Z=r.getAttribute("id"),this.X[Z]=Vfm(this,r)}}if(C){r=[];C=Array.from(C.childNodes);for(Q of C)if(Q.nodeType===1)switch(Q.tagName){case "w":this.S=HRb(this,Q,U,!1);(C=this.L[this.S.id])&&C.end>this.S.start&&(C.end=this.S.start);this.L[this.S.id]=this.S;r.push(this.S);break;case "p":var F=
Q;k=U;C=[];Z=F.getAttribute("w")||this.W;n=!!zc(F,"a");k=(b8(F,"t")||0)+k;L=b8(F,"d")||5E3;n||(!this.V&&this.B&&this.B.windowId===Z&&this.B.end>k&&(this.B.end=k),this.B&&this.B.text==="\n"&&(this.B.text=""));const p=n?6:5;var v=F.getAttribute("p");v=v?this.pens[v]:null;const I=Array.from(F.childNodes);I.length&&(this.V=F.getAttribute("d")!=null);for(F=0;F<I.length;F++){var O=I[F],w=void 0;F>0&&(n=!0);let t;O.nodeType===1&&(t=O);if(t&&t.tagName==="s"){if((O=(O=t.getAttribute("p"))?this.pens[O]:null)&&
O.Ym&&(O.Ym===1?(O=I.slice(F,F+4),O.length===4&&(w=EMs(k,L,Z,n,p,O,this.pens),F+=3)):w=EMs(k,L,Z,n,p,[t],this.pens)),!w){var u=t;w=k;O=L;var X=Z,E=n;const J=u.textContent?u.textContent:"";var V=u.getAttribute("p");V=V?this.pens[V]:null;u=b8(u,"t")||0;w=new H6(w+u,O-u,p,X,J,E,V)}}else w=new H6(k,L,p,Z,O.textContent||"",n,v);C.push(w);this.B=w}if(C.length>0){C[0].windowId===this.W&&(this.S=HRb(this,Q,U,!0),r.push(this.S));for(const t of C)t.windowId=this.S.id,this.S.S.push(t),r.push(t)}}var Q=r}else Q=
[];return Q}};var EE7=new Map([[9,1],[10,1],[11,2],[12,3],[13,4],[14,5]]),Azi=class extends Gc{constructor(k){super();this.V=k;this.S=new Map;this.J=new Map;this.W=new Map;this.B=new Map}reset(){this.B.clear()}j(k,U){k=JSON.parse(k);if(!k)return[];if(k.pens){var n=k.pens,Z=0;for(var C of n){n={};var r=C.pParentId;r&&Object.assign(n,this.S.get(r));C.bAttr&&(n.bold=!0);C.iAttr&&(n.italic=!0);C.uAttr&&(n.underline=!0);r=C.ofOffset;r!=null&&(n.offset=r);C.szPenSize!==void 0&&(n.fontSizeIncrement=C.szPenSize/100-1);
r=C.etEdgeType;r!=null&&(n.charEdgeStyle=r);C.ecEdgeColor!==void 0&&(n.z3=aA(C.ecEdgeColor));r=C.fsFontStyle;r!=null&&r!==0&&(n.fontFamily=r);C.fcForeColor!==void 0&&(n.color=aA(C.fcForeColor));C.foForeAlpha!==void 0&&(n.textOpacity=C.foForeAlpha/255);C.bcBackColor!==void 0&&(n.background=aA(C.bcBackColor));C.boBackAlpha!==void 0&&(n.backgroundOpacity=C.boBackAlpha/255);(r=C.rbRuby)&&r!==10&&(n.Ym=r>10?r-1:r,n.textEmphasis=EE7.get(n.Ym));C.hgHorizGroup&&(n.sH=C.hgHorizGroup);this.S.set(Z++,n)}}if(k.wsWinStyles){Z=
k.wsWinStyles;C=0;for(var L of Z)Z={},(n=L.wsParentId)?Object.assign(Z,this.W.get(n)):Object.assign(Z,this.V),L.mhModeHint!==void 0&&(Z.Rv=L.mhModeHint),L.juJustifCode!==void 0&&(Z.textAlign=L.juJustifCode),L.pdPrintDir!==void 0&&(Z.CZ=L.pdPrintDir),L.sdScrollDir!==void 0&&(Z.Wz=L.sdScrollDir),L.wfcWinFillColor!==void 0&&(Z.windowColor=aA(L.wfcWinFillColor)),L.wfoWinFillAlpha!==void 0&&(Z.windowOpacity=L.wfoWinFillAlpha/255),this.W.set(C++,Z)}if(k.wpWinPositions){C=k.wpWinPositions;L=0;for(var F of C)C=
{},(Z=F.wpParentId)&&Object.assign(C,this.J.get(Z)),F.ahHorPos!==void 0&&(C.mB=F.ahHorPos),F.apPoint!==void 0&&(C.n4=F.apPoint),F.avVerPos!==void 0&&(C.AM=F.avVerPos),F.ccCols!==void 0&&(C.rF=F.ccCols),F.rcRows!==void 0&&(C.Wt=F.rcRows),this.J.set(L++,C)}if(k.events){k=k.events;F=[];for(const P of k)if(L=(P.tStartMs||0)+U,C=P.dDurationMs||0,P.id)Z=String(P.id),k=RHm(this,P,L,C,Z),F.push(k),this.B.set(Z,k);else{P.wWinId?Z=P.wWinId.toString():(Z="_"+RA++,k=RHm(this,P,L,C,Z),F.push(k),this.B.set(Z,k));
k=F;var v=P;C===0&&(C=5E3);n=this.B.get(Z);const ra=(r=!!v.aAppend)?6:5,Lz=v.segs;let oP=null;v.pPenId&&(oP=this.S.get(v.pPenId));for(v=0;v<Lz.length;v++){var O=Lz[v],w=O.utf8;if(w){var u=O.tOffsetMs||0;let Kz=null;O.pPenId&&(Kz=this.S.get(O.pPenId));if((n.params.Rv!=null?n.params.Rv:n.S.length>1?1:0)===2&&r&&w==="\n")continue;O=null;var X=[],E;if(E=Kz&&Kz.Ym===1)a:{E=Lz;var V=v;if(V+3>=E.length||!E[V+1].pPenId||!E[V+2].pPenId||!E[V+3].pPenId){E=!1;break a}var Q=E[V+1].pPenId;(Q=this.S.get(Q))&&Q.Ym&&
Q.Ym===2?(Q=E[V+2].pPenId,Q=this.S.get(Q),!Q||!Q.Ym||Q.Ym<3?E=!1:(Q=E[V+3].pPenId,E=(Q=this.S.get(Q))&&Q.Ym&&Q.Ym===2?!0:!1)):E=!1}if(E)u=Lz[v+1].utf8,O=Lz[v+3].utf8,E=Lz[v+2].utf8,V=this.S.get(Lz[v+2].pPenId),w=X1x(w,u,E,O,V),O=new H6(L,C,ra,Z,w,r,Kz),v+=3;else{if(w.indexOf("<")>-1){X=Kz;E=oP;V=L;Q=C;var p=u,I=ra,t=r;const WJ=[];var J=g.Ve(`<html>${w}</html>`);if(!J.getElementsByTagName("parsererror").length&&J.firstChild?.childNodes.length)for(const M6 of J.firstChild.childNodes){J=M6.textContent?.replace(/\n/g,
"")??"";if(M6.nodeType===3&&(!J||J.match(/^ *$/)!=null))continue;const Na={};Object.assign(Na,X||E);switch(M6?.tagName){case "b":Na.bold=!0;break;case "i":Na.italic=!0;break;case "u":Na.underline=!0}WJ.push(new H6(V+p,Q-p,I,n.id,J,t,Na))}X=WJ}X.length||(X=[new H6(L+u,C-u,ra,n.id,w,r,Kz||oP)])}if(X.length)for(const WJ of X)k.push(WJ),n.S.push(WJ);else O&&(k.push(O),n.S.push(O))}r=!0}}U=F}else U=[];return U}};var dT2=class extends g.B4{constructor(k,U,n){super(k);this.videoData=U;this.audioTrack=n;this.D=U.IZ}J(k,U,n){Btx(this.videoData.videoId,k.vssId,n.fE)}W(k){if(this.audioTrack)for(const U of this.audioTrack.captionTracks)g.eW(this.S,U);k.wD()}};var mt2=class extends jg{constructor(k,U,n,Z,C,r,L,F,v,O){super(k,U,n,Z,C,r,L,F,v,O);this.type=1}TJ(k){const U=this.B.S;super.TJ(k);let n,Z;for(k=k.length;k<U.length;k++){const C=U[k];let r;Z&&C.S===n?r=Z:(r={},Object.assign(r,C.S),Object.assign(r,VDs),n=C.S,Z=r);kfE(this,C,r)}}},VDs={sy:!0};var hHi=class extends gEE{constructor(k,U){super();this.trackData=k;this.V=U;this.version=this.W=this.j=this.byteOffset=0;this.B=[];this.S=new DataView(this.trackData)}J(k,U,n,Z,C){if(n<Z){const r="_"+RA++;n=n/1E3-this.V;Z=Z/1E3-this.V;k=new hl(n,Z-n,5,r,{textAlign:0,n4:0,mB:U*2.5,AM:k*5.33});C=new H6(n,Z-n,5,r,C);this.B.push(k);this.B.push(C)}}},HZO=class extends Gc{constructor(k,U){super();this.B=k;this.J=U;this.track=this.J.languageName==="CC3"?4:0;this.S=new FW7;this.S.B=1<<this.track}j(k){k=
new hHi(k,this.B);if(bRE(k)){for(;k.byteOffset<k.S.byteLength;)for(k.version===0?k.j=pc(k)*(1E3/45):k.version===1&&(k.j=pc(k)*4294967296+pc(k)),k.W=$$(k);k.W>0;k.W--){var U=$$(k);const n=$$(k),Z=$$(k);U&4&&(U&3)===this.track&&(this.track===0||this.track===1)&&(U=this.S,U.S.push({time:k.j,type:this.track,Yx:n,PP:Z,order:U.S.length}))}CV7(this.S,k);return k.B}return[]}reset(){this.S.clear()}};var xts=class extends jg{constructor(k,U,n,Z,C,r,L,F,v,O){super(k,U,n,Z,C,r,L,F,v,O);this.type=2;this.By=[];this.SE=this.Y=this.pN=0;this.Wy=NaN;this.gt=0;this.PV=null;this.lZ=new g.iX(this.bL,433,this);this.W&&(O.createClientVe(this.W,this,167342),this.K(this.W,"click",()=>{O.logClick(this.W)}),k=new g.dl(this.element,!0),g.K(this,k),k.subscribe("hoverstart",()=>{O.logVisibility(this.W,!0)},this));
g.F_(this.element,"ytp-caption-window-rollup");g.K(this,this.lZ);g.Pl(this.element,"overflow","hidden")}Hc(){g.Ue(this.lZ)}bL(){this.element.removeEventListener("transitionend",this.bL,!1);g.Oe(this.element,"ytp-rollup-mode");this.X(this.PV,!0)}e5(){return this.J?this.SE:this.Y}V3(){return this.J?this.Y:this.SE}X(k,U){this.PV=k;if(this.B.params.Wt){var n=0;for(let Z=0;Z<this.V.length&&n<k.length;Z++)this.V[Z]===k[n]&&n++;n>0&&n<k.length&&(k=this.V.concat(k.slice(n)));this.gt=this.SE;this.Y=this.SE=
0;super.X(k);TiB(this,U)}super.X(k)}};var R8V=class{constructor(k,U,n,Z){this.O=k;this.j=U;this.logger=n;this.Oj=Z;this.BV=[];this.Qp=[];this.S=null;this.iZ={ZDO:()=>this.S,
hT:()=>this.BV};
k=g.ve(this.O.U().experiments,"html5_override_micro_discontinuities_threshold_ms");this.B=k>0?k:10}unload(){this.S!=null&&(this.O.removeEventListener("sabrCaptionsDataLoaded",this.S),this.S=null);this.BV=[];this.O.publish("sabrCaptionsBufferedRangesUpdated",this.BV)}Xr(k){return{formatId:g.SZ(k.info.fN.info,this.Oj),t8:k.info.t8+(this.Oj?0:1),startTimeMs:k.info.J*1E3,durationMs:k.info.X*1E3}}};var h8s=class extends g.B4{constructor(k,U){super(U);this.B=k;this.O=U;this.logger=new g.fQ("caps");this.X=this.dM=null;this.SE=new R8V(this.O,this,this.logger,this.B.Oj)}J(k,U,n){this.j();U=k.getId();U=U!=null&&U in this.B.S?this.B.S[U]:null;U||(U=k.languageCode,U=this.B.isManifestless?Nii(this,U,"386"):Nii(this,U));U&&(this.X=k,this.dM=U,$ts(this.SE,n),this.O.publish("sabrCaptionsTrackChanged",g.SZ(U.info,this.B.Oj)))}W(k){var U=this.B.isManifestless?tfx(this,"386"):tfx(this);for(const n of U)g.eW(this.S,
n);k.wD()}j(){this.X&&(this.X=this.dM=null,this.SE.unload(),this.O.publish("sabrCaptionsTrackChanged",null))}V(){return""}};var Isb="WEBVTT".split("").map(k=>k.charCodeAt(0)),svB=class extends Gc{constructor(){super()}j(k,U){k instanceof ArrayBuffer&&(k=g.IM(new Uint8Array(k)));
const n=[];k=k.split(bZE);for(let V=1;V<k.length;V++){var Z=k[V],C=U;if(Z!==""&&!z8B.test(Z)){var r=fc.exec(Z);if(r&&r.length>=4){var L=NW(r[1]),F=NW(r[2])-L;L+=C;var v=(r=r[3])?r.split(" "):[];r={};var O=null;var w="";var u=null,X="";for(const Q of v){v=Q.split(":");if(v.length!==2)continue;var E=v[1];switch(v[0]){case "line":v=E.split(",");v[0].endsWith("%")&&(O=v[0],r.AM=Number.parseInt(O,10),v.length===2&&(w=v[1].trim()));break;case "position":v=E.split(",");u=v[0];r.mB=Number.parseInt(u,10);
v.length===2&&(X=v[1].trim());break;case "align":switch(E){case "start":r.textAlign=0;break;case "middle":r.textAlign=2;break;case "end":r.textAlign=1}}}O||w||(w="end");if(!u)switch(r.textAlign){case 0:r.mB=0;break;case 1:r.mB=100;break;case 2:r.mB=50}if(r.textAlign!=null){O=0;switch(w){case "center":O+=3;break;case "end":O+=6;break;default:O+=0}switch(X){case "line-left":O+=0;break;case "center":O+=1;break;case "line-right":O+=2;break;default:switch(r.textAlign){case 0:O+=0;break;case 2:O+=1;break;
case 1:O+=2}}w=O<0||O>8?7:O;r.n4=w}Z=Z.substring(fc.lastIndex).replace(/[\x01-\x09\x0b-\x1f]/g,"");X=r;r=Z;Z={};if(r.indexOf("<")<0&&r.indexOf("&")<0)C=JrE(L,F,5,X),F=new H6(L,F,5,C.id,r,!1,g.Gp(Z)?void 0:Z),n.push(C),n.push(F),C.S.push(F);else for(w=r.split(QO2),w.length===1?(r=5,X=JrE(L,F,r,X)):(O=r=6,X=Object.assign({rF:32},X),X=new hl(L,F,O,"_"+RA++,X)),n.push(X),O=L,u=0;u<w.length;u++)if(v=w[u],u%2===0){E=g.Ve(`<html>${v}</html>`);let Q;E.getElementsByTagName("parsererror").length?(Q=E.createElement("span"),
Q.appendChild(E.createTextNode(v))):Q=E.firstChild;eHO(this,O,F-(O-L),r,X,u>0,Q,Z,n)}else O=NW(v)+C}fc.lastIndex=0}}return n}},z8B=/^NOTE/,bZE=/(?:\r\n|\r|\n){2,}/,fc=RegExp("^((?:[\\d]{2}:)?[\\d]{2}:[\\d]{2}\\.[\\d]{3})[\\t ]+--\x3e[\\t ]+((?:[\\d]{2}:)?[\\d]{2}:[\\d]{2}\\.[\\d]{3})(?:[\\t ]*)(.*)(?:\\r\\n|\\r|\\n)","gm"),QO2=RegExp("<((?:[\\d]{2}:)?[\\d]{2}:[\\d]{2}\\.[\\d]{3})>");var KWV=class extends g.ca{constructor(k,U){super();this.O=k;this.k$=U;this.S=null;this.y3=this.O.u7();this.logger=new g.fQ("caps")}clear(){this.S&&this.S.dispose();this.S=null}reset(){this.S&&this.S.reset()}Q$(){super.Q$();this.clear()}};var tl={windowColor:"#080808",windowOpacity:0,textAlign:2,n4:7,mB:50,AM:100,isDefault:!0,MQ:{background:"#080808",backgroundOpacity:.75,charEdgeStyle:0,color:"#fff",fontFamily:4,fontSizeIncrement:0,textOpacity:1,offset:1}};g.Jq("captions",class extends g.eX{constructor(k){super(k);this.O=k;this.Wy=[];this.SE={};this.pN={};this.L=!1;this.j="NONE";this.B=this.D=this.dM=this.V$=this.uL=null;this.Fo={wD:()=>{this.wD()},
fE:(Z,C,r,L,F=0)=>{const v=Number(this.videoData.U().Q3().S.Db(g.h4s)??0);F>0&&v>0&&this.videoData.lengthSeconds>0&&F/this.videoData.lengthSeconds>v?this.O.rM("tts",{dropcap:F}):this.fE(Z,C,r,L)}};
this.S=null;this.k$=this.O.U();this.videoData=this.O.getVideoData();this.GJ=this.O.vy();this.W={MQ:{}};this.V={MQ:{}};this.videoData.e5()?this.j="OFFLINE":g.pkC(this.videoData,this.O)?this.j="HLS":p1x(this.videoData,this.O)?this.j="SABR_LIVE":g.NsN(this.videoData,this.O)?this.j="LIVE":this.videoData.captionTracks.length?this.j="INNERTUBE":this.videoData.tS&&(this.j="TTS");this.TJ=this.k$.controlsType==="3";this.aQ=new KWV(this.O,this.k$);this.x$=new g.HW(this);this.X=new g.l({Z:"div",A:"ytp-caption-window-container",
N:{id:"ytp-caption-window-container"}});this.Y={top:0,right:0,bottom:0,left:0,width:1,height:1};let U=null;const n=g.M_("yt-html5-player-modules::subtitlesModuleData");n&&(U=new g.Ji(n));this.storage=U;this.bL=!!k.gm()?.By();this.J=oMO(this);this.By=!this.J&&this.TJ&&this.bL&&(this.j==="LIVE"||this.j==="SABR_LIVE");g.K(this,this.aQ);this.J?this.IQ=this.eE=null:(this.eE=new g.mt(this.xo,void 0,this),g.K(this,this.eE),this.IQ=new g.iX(this.Hc,2E3,this),g.K(this,this.IQ));g.K(this,this.x$);g.$Z(this.player,
this.X.element,4);g.K(this,this.X);this.J||this.x$.K(k,"resize",this.h8);(this.Y$=g.v2(this.k$)&&!g.y7()&&!this.O.isFullscreen()&&!this.J&&!this.By)&&this.x$.K(k,"resize",this.e5);this.x$.K(k,"onPlaybackAudioChange",this.tS);this.x$.K(k,g.aQ("captions"),Z=>{this.onCueRangeEnter(Z)});
this.x$.K(k,g.$g("captions"),Z=>{this.onCueRangeExit(Z)});
IA(this,wO()||{});g.wh(this.player,"onCaptionsModuleAvailable");this.j==="HLS"&&this.J&&(k=this.O.gm().j5(),this.bL&&this.x$.K(k.textTracks,"addtrack",this.V3))}Q$(){if(this.J||this.By){const k=this.O.gm();k&&!k.LN()&&k.L()}else qW(this,!1);super.Q$()}hQ(){return this.k$.C("html5_honor_caption_availabilities_in_audio_track")&&this.j!=="LIVE"&&this.j!=="SABR_LIVE"}L4(){if(this.TJ)return this.J||this.By;if(this.j==="HLS")return this.J;var k=this.getAudioTrack();if(this.hQ()){if(!k.captionTracks.length)return!1;
if(!this.B)return!0}k=v6(k,g.kD(this.k$));return k==="CAPTIONS_INITIAL_STATE_ON_REQUIRED"?!0:k==="CAPTIONS_INITIAL_STATE_OFF_REQUIRED"?eg(this):Jl(this)||eg(this)?!0:SVY(this)}load(){super.load();this.D=this.getAudioTrack();if(this.B)this.S&&(this.aQ.clear(),this.J?GfV(this,!0):this.player.getPresentingPlayerType()!==3&&this.B.J(this.S,"json3",this.Fo),this.j!=="HLS"&&this.J||this.By||B6(this)||g.wh(this.player,"captionschanged",g.Y5(this.S)));else{let k;this.j==="OFFLINE"?k=new dT2(this.player,this.videoData,
this.getAudioTrack()):this.j==="SABR_LIVE"?k=new h8s(this.videoData.S,this.player):this.j==="HLS"?k=new UTE(this.player):this.j==="LIVE"?k=new CuE(this.videoData.S,this.player):this.j==="INNERTUBE"?k=new g.P4(this.player,this.videoData,this.getAudioTrack()):k=new g.sH(this.player,this.videoData.tS,this.videoData.videoId,g.HmB(this.videoData),this.videoData.f1,this.videoData.eventId);this.B=k;g.K(this,this.B);this.B.W(this.Fo)}}unload(){this.J&&this.S?GfV(this,!1):(this.IQ&&this.IQ.nu(),this.player.Wn("captions"),
this.Wy=[],this.B&&this.B.j(),this.aQ.clear(),this.dM&&this.player.oA(this.dM),this.h8());super.unload();this.player.XT();g.wh(this.player,"captionschanged",{})}create(){this.L4()&&this.load();var k;a:{if(this.k$.C("web_player_nitrate_promo_tooltip")&&this.videoData.getPlayerResponse()?.captions?.playerCaptionsTracklistRenderer?.enableTouchCaptionsNitrate&&(k=this.videoData.getPlayerResponse()?.captions?.playerCaptionsTracklistRenderer?.captionTracks))for(const U of k)if(U.kind==="asr"&&U.languageCode===
"en"){k=!0;break a}k=!1}k&&this.O.publish("showpromotooltip",this.X.element)}wD(){var k=v6(this.player.getAudioTrack(),g.kD(this.k$));var U=k==="CAPTIONS_INITIAL_STATE_ON_REQUIRED"?s3(this,this.L):k==="CAPTIONS_INITIAL_STATE_OFF_REQUIRED"&&eg(this)?P6(this):Jl(this)||this.L||SVY(this)?s3(this,this.L):eg(this)?P6(this):null;if(this.j!=="HLS"&&this.J||this.By){const n=g.X1(this.B.S,!0);k=[];for(let Z=0;Z<n.length;Z++){const C=n[Z],r=g.Ox("TRACK");r.setAttribute("kind","subtitles");r.setAttribute("label",
g.sj(C));r.setAttribute("srclang",g.DT(C));r.setAttribute("id",C.toString());this.By||r.setAttribute("src",this.B.V(C,"vtt"));C===U&&r.setAttribute("default","1");k.push(r)}U=this.O.gm();U.dM(k);k=U.j5();this.bL&&this.x$.K(k.textTracks,"change",this.gt)}else!this.S&&U&&W6(this,U),g.wh(this.player,"onCaptionsTrackListChanged"),g.uM(this.player,"onApiChange")}getTrackById(k){const U=g.X1(this.B.S,!0);for(let n=0;n<U.length;n++)if(U[n].toString()===k)return U[n];return null}gt(){const k=this.O.gm().j5().textTracks;
let U=null;for(let n=0;n<k.length;n++)k[n].mode==="showing"&&(U=this.getTrackById(k[n].id));(this.loaded?this.S:null)!==U&&W6(this,U,!0)}V3(){this.B?.W(this.Fo)}H3(){!this.S&&this.J||this.unload()}fE(k,U,n,Z){if(k){oA(this,this.S??void 0);this.B.Y()&&(this.Wy=[],this.O.Wn("captions"),Fn(this.eE),this.aQ.reset());a:{var C=this.aQ;Z=Z||0;n=PVE(C,k,n||0);k=[];try{for(const I of n){const t=I.trackData,J=I.qA,P=C.k$.C("safari_live_drm_captions_fix");if(typeof t!=="string"){n=k;var r=n.concat;if(P&&qV7(t))var L=
YVi(C,t,J);else{var F=C,v=U,O=t,w=J,u=Z;if(!zHm(O))throw Error("Invalid binary caption track data");F.S||(F.S=new HZO(u,v));L=F.S.j(O,w)}var X=r.call(n,L)}else{if(t.substring(0,6)==="WEBVTT")var E=k.concat(YVi(C,t,J));else{n=k;var V=n.concat;b:{v=C;F=U;if(t[0]==="{")try{v.S||(v.S=new Azi(DtV(F)));var Q=v.S.j(t,J);break b}catch(oP){g.S(oP);Q=[];break b}const ra=g.Ve(t);if(!ra||!ra.firstChild){const oP=Error("Invalid caption track data");oP.params=t;throw oP;}if(ra.firstChild.tagName==="timedtext"){if(Number(ra.firstChild.getAttribute("format"))===
3){O=ra;v.S||(v.S=new XqB(DtV(F)));Q=v.S.j(O,J);break b}const oP=Error("Unsupported subtitles format in web player (Format2)");oP.params=t;throw oP;}if(ra.firstChild.tagName==="transcript"){const oP=Error("Unsupported subtitles format in web player (Format1)");oP.params=t;throw oP;}const Lz=Error("Invalid caption track data");Lz.params=t;throw Lz;}E=V.call(n,Q)}X=E}k=X}var p=k;break a}catch(I){g.M3(C.logger,187101178,`Captions parsing failed: ${I.message}. `);C.clear();p=[];break a}p=void 0}U=p;U.length>
0&&(p=this.S,this.BS(p,!!p,B6(this)?"g":this.L?"m":"s"));this.player.oA(U,void 0,this.j==="LIVE"||this.j==="SABR_LIVE");!this.L||this.By||B6(this)||g.Eg(this.k$)||g.FG(this.k$)||g.mN(this.k$)||this.k$.SE==="shortspage"||this.player.isInline()||(this.IQ.nu(),U=Arp({n4:0,mB:5,AM:5,Wt:2,textAlign:0,CZ:0,lang:"en-GB"}),this.V$=[U],p=["Click "," for settings"],this.uL||(C=new g.Bf(g.NF()),g.K(this,C),this.uL=C.element),C=U.end-U.start,(X=g.sj(this.S))&&this.V$.push(new H6(U.start,C,0,U.id,X)),this.V$.push(new H6(U.start,
C,0,U.id,p[0]),new H6(U.start,C,0,U.id,this.uL,!0),new H6(U.start,C,0,U.id,p[1],!0)),this.player.oA(this.V$),this.IQ.HV());!this.L||this.By||B6(this)||(g.kD(this.k$)?Y$(this,!0):Dz(this,!0),this.D&&(this.D.J=this.S),this.player.XT());this.L=!1}}onCueRangeEnter(k){this.Wy.push(k);Fn(this.eE)}onCueRangeExit(k){g.FO(this.Wy,k);this.B instanceof CuE&&this.B.SE&&this.player.XB([k]);Fn(this.eE)}getCaptionWindowContainerId(){return this.X.element.id}Hc(){Wy_(this,this.V$);this.V$=null}xo(){if(!this.Y$||
!this.J){this.eE.stop();g.f8(this.pN);this.Wy.sort(g.Td);var k=this.Wy;if(this.dM){const U=g.GN(k,function(n){return this.dM.indexOf(n)===-1},this);
U.length&&(k=U)}for(const U of k)U instanceof hl?yrO(this,U):crO(this,U);for(const [U,n]of Object.entries(this.SE)){const Z=U,C=n;this.pN[Z]?(C.element.parentNode||(C instanceof xts||C instanceof mt2||g.Jm(this.SE,(r,L)=>{L!==Z&&r.B.params.n4===C.B.params.n4&&r.B.params.mB===C.B.params.mB&&r.B.params.AM===C.B.params.AM&&(r.dispose(),delete this.SE[L]);return L===Z},this),this.X.element.appendChild(C.element)),C.X(this.pN[Z])):(C.dispose(),delete this.SE[Z])}}}TH(){IA(this,{},!0);
g.wh(this.player,"captionssettingschanged")}ZF(){var k=tl.MQ;k={background:k.background,backgroundOpacity:k.backgroundOpacity,charEdgeStyle:k.charEdgeStyle,color:k.color,fontFamily:k.fontFamily,fontSizeIncrement:k.fontSizeIncrement,fontStyle:k.bold&&k.italic?3:k.bold?1:k.italic?2:0,textOpacity:k.textOpacity,windowColor:tl.windowColor,windowOpacity:tl.windowOpacity};const U=wO()||{};U.background!=null&&(k.background=U.background);U.backgroundOverride!=null&&(k.backgroundOverride=U.backgroundOverride);
U.backgroundOpacity!=null&&(k.backgroundOpacity=U.backgroundOpacity);U.backgroundOpacityOverride!=null&&(k.backgroundOpacityOverride=U.backgroundOpacityOverride);U.charEdgeStyle!=null&&(k.charEdgeStyle=U.charEdgeStyle);U.charEdgeStyleOverride!=null&&(k.charEdgeStyleOverride=U.charEdgeStyleOverride);U.color!=null&&(k.color=U.color);U.colorOverride!=null&&(k.colorOverride=U.colorOverride);U.fontFamily!=null&&(k.fontFamily=U.fontFamily);U.fontFamilyOverride!=null&&(k.fontFamilyOverride=U.fontFamilyOverride);
U.fontSizeIncrement!=null&&(k.fontSizeIncrement=U.fontSizeIncrement);U.fontSizeIncrementOverride!=null&&(k.fontSizeIncrementOverride=U.fontSizeIncrementOverride);U.fontStyle!=null&&(k.fontStyle=U.fontStyle);U.fontStyleOverride!=null&&(k.fontStyleOverride=U.fontStyleOverride);U.textOpacity!=null&&(k.textOpacity=U.textOpacity);U.textOpacityOverride!=null&&(k.textOpacityOverride=U.textOpacityOverride);U.windowColor!=null&&(k.windowColor=U.windowColor);U.windowColorOverride!=null&&(k.windowColorOverride=
U.windowColorOverride);U.windowOpacity!=null&&(k.windowOpacity=U.windowOpacity);U.windowOpacityOverride!=null&&(k.windowOpacityOverride=U.windowOpacityOverride);return k}pw(k,U){const n={};Object.assign(n,wO());Object.assign(n,k);IA(this,n,U);g.wh(this.player,"captionssettingschanged")}h8(){!this.J&&this.loaded&&(g.tm(this.SE,function(k,U){k.dispose();delete this.SE[U]},this),this.xo())}NT(k,U){switch(k){case "fontSize":if(isNaN(U))break;
k=g.I0(U,-2,4);this.pw({fontSizeIncrement:k});return k;case "reload":U&&!this.J&&W6(this,this.S,!0);break;case "stickyLoading":U!==void 0&&this.k$.X&&(g.kD(this.k$)?Y$(this,!!U):Dz(this,!!U));break;case "track":return k0_(this,U);case "tracklist":return this.B?g.fz(g.X1(this.B.S,!(!U||!U.includeAsr)),n=>g.Y5(n)):[];
case "translationLanguages":return this.B?this.B.D.map(n=>Object.assign({},n)):[];
case "sampleSubtitles":this.J||U===void 0||qW(this,!!U);break;case "sampleSubtitlesCustomized":this.J||qW(this,!!U,U);break;case "recommendedTranslationLanguages":return g.we();case "defaultTranslationSourceTrackIndices":return this.B?this.B.x$:[]}}getOptions(){const k="reload fontSize track tracklist translationLanguages sampleSubtitle".split(" ");this.k$.X&&k.push("stickyLoading");return k}Cs(){let k=this.S;if(this.O.QV("captions")){if(this.k$.C("html5_modify_caption_vss_logging"))return(k=this.videoData.Bw??
null)?{cc:g.vJP(k)}:{};if(k){let U=k.vssId;k.translationLanguage&&U&&(U=`t${U}.${g.DT(k)}`);return{cc:U}}}return{}}OY(){this.isSubtitlesOn()?(g.kD(this.k$)?Y$(this,!1):Dz(this,!1),oA(this),W6(this,null,!0)):this.Pr()}Pr(){const k=B6(this)||!this.S?s3(this,!0):this.S;k&&this.HS(k.vssId,"m");this.isSubtitlesOn()||W6(this,B6(this)||!this.S?s3(this,!0):this.S,!0)}isSubtitlesOn(){return!!this.loaded&&!!this.S&&!B6(this)}tS(){const k=B6(this);eg(this,k)?W6(this,this.getAudioTrack().S,!1):this.videoData.captionTracks.length&&
(this.loaded&&this.unload(),this.hQ()&&(this.L=!1,this.S=null,this.B&&(this.B.dispose(),this.B=null)),this.L4()&&(k?W6(this,s3(this,!1),!1):this.load()))}KM(k){k&&(this.Y={top:k.top,right:k.right,bottom:k.bottom,left:k.left,width:1-k.left-k.right,height:1-k.top-k.bottom},this.X.element.style.top=`${this.Y.top*100}%`,this.X.element.style.left=`${this.Y.left*100}%`,this.X.element.style.width=`${this.Y.width*100}%`,this.X.element.style.height=`${this.Y.height*100}%`,this.X.element.style.position="absolute",
k=ls8(this))&&(this.X.element.style.width=`${k.width}px`,this.X.element.style.height=`${k.height}px`)}onVideoDataChange(k,U){k==="newdata"&&(this.videoData=U,this.loaded&&this.unload(),this.L=!1,this.S=null,this.B&&(this.B.dispose(),this.B=null,g.wh(this.player,"captionschanged",{})),this.L4()&&this.load())}getAudioTrack(){return this.player.getAudioTrack()}e5(){const k=this.O.gm();k&&!k.LN()&&k.L();this.O.isFullscreen()?(this.J=this.TJ=!0,this.loaded&&this.wD()):(this.TJ=this.k$.controlsType==="3",
this.J=oMO(this));W6(this,this.S)}Xo(){const k=this.videoData.getPlayerResponse()?.captions?.playerCaptionsTracklistRenderer?.openTranscriptCommand;k&&g.LB(this.player,"innertubeCommand",k)}BS(k,U,n){const Z=/&|,|:|;|(\n)|(\s)|(\/)|(\\)/gm;let C="";k&&(C=k.vssId,C=C.replace(Z,""));let r="";k&&k.getId()&&(r=k.getId()||"");k&&k.getXtags()&&(k=k.getXtags(),k=k.replace(Z,""),r=r.concat(`;${k}`));this.j==="HLS"&&(r="");this.O.BS(U?C:"",U?r:"",n)}HS(k,U){k=(k||"").replace(/&|,|:|;|(\n)|(\s)|(\/)|(\\)/gm,
"");k.length>0&&this.O.HS(k,U)}});})(_yt_player);
